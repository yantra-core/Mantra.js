(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}(g.PLUGINS || (g.PLUGINS = {})).PhaserGraphics = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var GraphicInterface=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"init",value:function(){throw new Error("init method not implemented.")}},{key:"render",value:function(e){throw new Error("render method not implemented.")}},{key:"update",value:function(e){}},{key:"inflateGraphic",value:function(e){throw new Error("inflateGraphic method not implemented.")}},{key:"createGraphic",value:function(e,t){throw new Error("createGraphic method not implemented.")}},{key:"removeGraphic",value:function(e){throw new Error("removeGraphic method not implemented.")}},{key:"updateGraphic",value:function(e,t){throw new Error("updateGraphic method not implemented.")}}]),e}(),_default=exports.default=GraphicInterface;

},{}],2:[function(require,module,exports){
"use strict";function _typeof(o){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(o)}function _classCallCheck(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(o,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(o,_toPropertyKey(i.key),i)}}function _createClass(o,e,t){return e&&_defineProperties(o.prototype,e),t&&_defineProperties(o,t),Object.defineProperty(o,"prototype",{writable:!1}),o}function _defineProperty(o,e,t){return(e=_toPropertyKey(e))in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function _toPropertyKey(o){var e=_toPrimitive(o,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(o,e){if("object"!==_typeof(o)||null===o)return o;var t=o[Symbol.toPrimitive];if(void 0!==t){var i=t.call(o,e||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var PhaserCamera=function(){function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,o),this.id=o.id,this.scene=e,this.camera=e.cameras.main,this.config=t,this.follow=!0,this.isDragging=!1,this.dragInertia={x:0,y:0},this.isThrowing=!1,this.initZoomControls()}return _createClass(o,[{key:"init",value:function(o){this.game=o,this.game.setZoom=this.setZoom.bind(this),this.game.systemsManager.addSystem("graphics-phaser-camera",this),this.scene.input.on("pointerdown",this.onPointerDown.bind(this)),this.scene.input.on("pointermove",this.onPointerMove.bind(this)),this.scene.input.on("pointerup",this.onPointerUp.bind(this))}},{key:"update",value:function(){var o=this.scene.cameras.main,e=this.game.getEntity(this.game.currentPlayerId);o&&e&&e.graphics&&e.graphics["graphics-phaser"]&&(!this.follow||this.isDragging||this.isThrowing||o.centerOn(e.position.x,e.position.y),this.followingPlayer=!0)}},{key:"onPointerDown",value:function(o){o.rightButtonDown()&&(this.isDragging=!0,this.follow=!1,this.lastPointerPosition={x:o.x,y:o.y})}},{key:"onPointerMove",value:function(o){if(this.isDragging){var e=o.x-this.lastPointerPosition.x,t=o.y-this.lastPointerPosition.y;this.camera.scrollX-=e/this.camera.zoom,this.camera.scrollY-=t/this.camera.zoom,this.lastPointerPosition={x:o.x,y:o.y}}}},{key:"onPointerUp",value:function(o){this.isDragging&&(this.isDragging=!1)}},{key:"initZoomControls",value:function(){var o=this;this.scene.input.on("wheel",function(e,t,i,n,r){var a=zoom.current;a*=n<0?1.5:.6,a=Math.min(Math.max(a,zoom.minZoom),zoom.maxZoom),zoom.tweenTo(o.scene,a,666)})}},{key:"applyThrow",value:function(){if(this.isThrowing){this.camera.scrollX-=this.dragInertia.x/this.camera.zoom,this.camera.scrollY-=this.dragInertia.y/this.camera.zoom,this.dragInertia.x*=.95,this.dragInertia.y*=.95,Math.abs(this.dragInertia.x)<.1&&Math.abs(this.dragInertia.y)<.1&&(this.isThrowing=!1,this.scene.time.removeAllEvents())}}},{key:"tweenToZoom",value:function(o){arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&arguments[2]}},{key:"zoomIn",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01;zoom.zoomIn(this.scene,o)}},{key:"zoomOut",value:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.01;zoom.zoomOut(this.scene,o)}},{key:"setZoom",value:function(o){zoom.set(this.scene,o)}},{key:"startFollowing",value:function(o){}}]),o}();_defineProperty(PhaserCamera,"id","phaser-camera");var _default=exports.default=PhaserCamera,zoom={maxZoom:16,minZoom:.05,current:.1,tweening:!1,init:function(o){}},currentZoomTween=null,zoomTweenDelay=333,lastZoomTweenTime=0;zoom.tweenTo=function(o,e,t,i){void 0===t&&(t=1e3);var n=(new Date).getTime();zoom.tweening&&void 0!==currentZoomTween&&n-lastZoomTweenTime>zoomTweenDelay&&currentZoomTween.stop(),zoom.tweening=!0,lastZoomTweenTime=(new Date).getTime(),e=Math.max(Math.min(e,zoom.maxZoom),zoom.minZoom),currentZoomTween=o.tweens.add({targets:o.cameras.main,zoom:e,duration:t,ease:"Sine.easeInOut",onUpdate:function(o){zoom.current=o.getValue()},onComplete:function(){zoom.tweening=!1,"function"==typeof i&&i()}})},zoom.zoomIn=function(o,e){(void 0===e&&(e=.01),zoom.tweening)||(e*=1/(2*o.cameras.main.zoom),o.cameras.main.zoom>=zoom.maxZoom||(o.cameras.main.zoom+=e))},zoom.zoomOut=function(o,e){(void 0===e&&(e=-.01),zoom.tweening)||(e*=(o.cameras.main.zoom-zoom.minZoom)/(zoom.maxZoom-zoom.minZoom),o.cameras.main.zoom<=zoom.minZoom||(o.cameras.main.zoom+=e,o.game.G.currentZoom=o.cameras.main.zoom))},zoom.set=function(o,e){zoom.tweening||(e>zoom.maxZoom&&(e=zoom.maxZoom),e<zoom.minZoom&&(e=zoom.minZoom),o.cameras.main.zoom=e,o.game.G.currentZoom=o.cameras.main.zoom,zoom.current=e)};

},{}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _GraphicsInterface2=_interopRequireDefault(require("../../lib/GraphicsInterface.js")),_PhaserCamera=_interopRequireDefault(require("./PhaserCamera.js")),_inflateGraphic=_interopRequireDefault(require("./graphics/inflateGraphic.js")),_inflateTriangle=_interopRequireDefault(require("./graphics/inflateTriangle.js")),_inflateBox=_interopRequireDefault(require("./graphics/box/inflateBox.js")),_inflateCircle=_interopRequireDefault(require("./graphics/inflateCircle.js")),_inflateText=_interopRequireDefault(require("./graphics/inflateText.js")),_createBox=_interopRequireDefault(require("./graphics/box/createBox.js")),_preload2=_interopRequireDefault(require("./preload.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_unsupportedIterableToArray(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,n,a,o,s=[],l=!0,c=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=a.call(t)).done)&&(s.push(i.value),s.length!==r);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw n}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=new Array(r);t<r;t++)i[t]=e[t];return i}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _inherits(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&_setPrototypeOf(e,r)}function _setPrototypeOf(e,r){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e})(e,r)}function _createSuper(e){var r=_isNativeReflectConstruct();return function(){var t,i=_getPrototypeOf(e);if(r){var n=_getPrototypeOf(this).constructor;t=Reflect.construct(i,arguments,n)}else t=i.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,r,t){return(r=_toPropertyKey(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _toPropertyKey(e){var r=_toPrimitive(e,"string");return"symbol"===_typeof(r)?r:String(r)}function _toPrimitive(e,r){if("object"!==_typeof(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}var PhaserGraphics=function(e){_inherits(t,_GraphicsInterface2["default"]);var r=_createSuper(t);function t(){var e,i=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).camera,n=void 0===i?{}:i;_classCallCheck(this,t),(e=r.call(this)).id="graphics-phaser",e.async=t.async,"string"==typeof n&&(n={follow:!0}),void 0===n.follow&&(n.follow=!0),void 0===n.startingZoom&&(n.startingZoom=1);var a={camera:n};return void 0===a.camera.startingZoom&&(a.camera.startingZoom=1),e.config=a,e.scenesReady=!1,e.scene=null,e.inflateGraphic=_inflateGraphic.default.bind(_assertThisInitialized(e)),e.inflateEntity=_inflateGraphic.default.bind(_assertThisInitialized(e)),e.inflateBox=_inflateBox.default.bind(_assertThisInitialized(e)),e.inflateTriangle=_inflateTriangle.default.bind(_assertThisInitialized(e)),e.inflateCircle=_inflateCircle.default.bind(_assertThisInitialized(e)),e.inflateText=_inflateText.default.bind(_assertThisInitialized(e)),e.createBox=_createBox.default.bind(_assertThisInitialized(e)),e}return _createClass(t,[{key:"init",value:function(e){var r=this;this.game=e,"undefined"==typeof Phaser?(console.log("Phaser is not defined, attempting to load it from vendor"),e.loadScripts(["/vendor/phaser.min.js"],function(){r.phaserReady(e)})):this.phaserReady(e)}},{key:"phaserReady",value:function(e){var r=new Phaser.Class({Extends:Phaser.Scene,initialize:function(){Phaser.Scene.call(this,"Main")},init:function(){var e=this;this.load.on("complete",function(){e.scene.launch("Main"),e.gameReady()})},preload:function(){(0,_preload2.default)(this,e)},create:function(){}});this.phaserGame=new Phaser.Game({type:Phaser.AUTO,parent:"gameHolder",transparent:!0,scene:[r],scale:{mode:Phaser.Scale.ENVELOP}});var t=this;r.prototype.gameReady=function(){var r=t.phaserGame.scene.getScene("Main");t.scene=r;var i=r.cameras.main,n=new _PhaserCamera.default(r,t.config.camera);this.game.use(n),t.scenesReady=!0,e.graphics.push(this),this.game.systemsManager.addSystem("graphics-phaser",this),e.emit("plugin::ready::graphics-phaser",this),i.zoom=2.5,e.loadingPluginsCount--}.bind(this)}},{key:"removeGraphic",value:function(e){var r=this.game.getEntity(e);r&&r.graphics&&r.graphics["graphics-phaser"]&&r.graphics["graphics-phaser"].destroy()}},{key:"updateGraphic",value:function(e){return this.inflateGraphic(e)}},{key:"update",value:function(e){this.game;this.scenesReady}},{key:"inflate",value:function(e){}},{key:"render",value:function(e,r){}},{key:"unload",value:function(){var e=this;this.game.graphics=this.game.graphics.filter(function(r){return r.id!==e.id}),delete this.game._plugins.PhaserGraphics;var r,t=_createForOfIteratorHelper(this.game.entities.entries());try{for(t.s();!(r=t.n()).done;){var i=_slicedToArray(r.value,2),n=i[0],a=i[1];a.graphics&&a.graphics["graphics-phaser"]&&(this.removeGraphic(n),delete a.graphics["graphics-phaser"])}}catch(e){t.e(e)}finally{t.f()}this.game.systems["graphics-phaser-camera"]&&this.game.systemsManager.removeSystem("graphics-phaser-camera"),this.phaserGame.destroy(!0);var o=document.getElementById("phaser-render-canvas");o&&o.remove()}}]),t}();_defineProperty(PhaserGraphics,"id","graphics-phaser"),_defineProperty(PhaserGraphics,"removable",!1),_defineProperty(PhaserGraphics,"async",!0);var _default=exports.default=PhaserGraphics;

},{"../../lib/GraphicsInterface.js":1,"./PhaserCamera.js":2,"./graphics/box/createBox.js":4,"./graphics/box/inflateBox.js":5,"./graphics/inflateCircle.js":7,"./graphics/inflateGraphic.js":8,"./graphics/inflateText.js":9,"./graphics/inflateTriangle.js":10,"./preload.js":11}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createBox;var _setCursorStyle=_interopRequireDefault(require("../../util/setCursorStyle.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var depthChart=["background","border","wire","part","TILE","PLAYER","BLOCK"];function createBox(t){var e,r=this,o=this.game;if(t.texture){var i=o.getTexture(t.texture);i.url,i.sprite;if("PLAYER"===t.type&&(i.key="player"),e=this.scene.add.sprite(0,0,i.key),"object"===_typeof(i.frames)){var a=this.scene.textures.get(i.key);e.setTexture(a)}var n=depthChart.indexOf(t.type);"number"==typeof t.position.z&&(n=t.position.z),e.setDepth(n),t.graphic=e,t.color}else e=this.scene.add.sprite(0,0,"pixel"),t.graphic=e,e.setTint(t.color);var s=new Phaser.Geom.Rectangle(0,0,t.width,t.height);return t.style&&t.style.display&&"none"===t.style.display&&e.setVisible(!1),t.style&&t.style.border&&t.style.border,e.setInteractive(s,Phaser.Geom.Rectangle.Contains),e.displayWidth=t.width,e.displayHeight=t.height,e.on("pointerover",function(){(0,_setCursorStyle.default)(e,r.scene,"pointer");var i=o.getEntity(t.id);i&&i.yCraft&&i.yCraft.part&&("MotionDetector"===i.yCraft.part.type&&i.yCraft.part.onFn())}),e.on("pointerout",function(){}),e.on("pointerdown",function(r){var i=o.getEntity(t.id);i&&i.yCraft&&i.yCraft.part&&("Button"===i.yCraft.part.type&&i.yCraft.part.press(),i.yCraft.part.toggle&&i.yCraft.part.toggle());if(i){var a=r.worldX,n=r.worldY,s=a-(e.x+e.displayWidth/2),y=n-(e.y+e.displayHeight/2),p={offsetX:s+=t.width/2,offsetY:y+=t.height/2};console.log("Converted Event",r,e,p),o.emit("pointerDown",i,p)}}),e.on("pointerup",function(){var e=o.getEntity(t.id);e&&e.yCraft&&e.yCraft.part&&("Button"===e.yCraft.part.type&&e.yCraft.part.release&&e.yCraft.part.release())}),e}

},{"../../util/setCursorStyle.js":12}],5:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflategraphic;var _updateBox=_interopRequireDefault(require("./updateBox.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function inflategraphic(e){var t,i=this.game;e.graphics&&e.graphics["graphics-phaser"]&&(t=e.graphics["graphics-phaser"]),t?(0,_updateBox.default)(e,t,i):(t=this.createBox(e),this.scene.add.existing(t));t.x,t.y;var r=e.position;return t.setPosition(r.x,r.y),e.rotation&&void 0===e.texture&&t.setRotation(e.rotation),t}

},{"./updateBox.js":6}],6:[function(require,module,exports){
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function updateBox(e,t,o){if(void 0!==e.color&&t.setTint(e.color),void 0!==e.texture){var r=o.getTexture(e.texture);if(!r)return t;r.url,r.sprite;if(e.texture.frame,"object"===_typeof(r.frames))if(o.tick%10==0)void 0===e.frameIndex&&(e.frameIndex=0),e.frameIndex>=r.frames.length&&(e.frameIndex=0),void 0!==r.frames[e.frameIndex]&&e.frameIndex++}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=updateBox;

},{}],7:[function(require,module,exports){
"use strict";function inflateCircle(e){var i,t=this.game;if(e.graphics&&e.graphics["graphics-phaser"]&&(i=e.graphics["graphics-phaser"]),!i){if(e.texture){var s=t.getTexture(e.texture);s.url,s.sprite;"BULLET"===e.type&&(s="pixel"),e.texture.frame,i=this.scene.add.sprite(0,0,s)}else(i=this.scene.add.graphics()).fillStyle(16711680,1),i.fillCircle(0,0,e.radius),i.setDepth(10);e.graphic=i,this.scene.add.existing(i),this.game.components.graphics.set([e.id,"graphics-phaser"],i)}return i.setPosition(e.position.x,e.position.y),i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateCircle;

},{}],8:[function(require,module,exports){
"use strict";function inflateGraphic(e){var t;switch(e.type){case"PLAYER":t=(e.shape,this.inflateBox(e));break;case"BULLET":t=this.inflateCircle(e);break;case"TEXT":t=this.inflateText(e);break;default:t=this.inflateBox(e)}this.game.components.graphics.set([e.id,"graphics-phaser"],t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateGraphic;

},{}],9:[function(require,module,exports){
"use strict";function inflateText(t){var e=t.graphics&&t.graphics["graphics-phaser"],o={font:"22px",fill:"#ffffff",padding:3};if(t.style&&(t.style.fontSize&&(o.font="".concat(t.style.fontSize)),t.style.backgroundColor&&(o.backgroundColor=t.style.backgroundColor)),o.font="12px monospace",t.color&&(o.fill=t.color),t.text=t.text.replace(/<br\/>/g,"\n"),e){var s=e.list[1];s.text!==t.text&&s.setText(t.text),e.setPosition(t.position.x,t.position.y)}else{var i=this.scene.add.text(0,0,t.text,o).setOrigin(.5,.5);i.setAlpha(1),i.setDepth(9999),i.visible=!0,e=this.scene.add.container(t.position.x,t.position.y,[i]),t.graphics=t.graphics||{},t.graphics["graphics-phaser"]=e}return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateText;

},{}],10:[function(require,module,exports){
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function inflateTriangle(t){if(this.scene){var o;t.graphics&&t.graphics["graphics-phaser"]&&(o=t.graphics["graphics-phaser"]),o?o.clear():(o=this.scene.add.graphics(),t.graphic=o,this.scene.add.existing(o),this.game.components.graphics.set([t.id,"graphics-phaser"],o));var e=t.position.x,i=t.position.y,r=t.height||64,n=(t.width||64)/2,s={x:e-n,y:i+r/2},a={x:e+n,y:i+r/2},p={x:e,y:i-r/2},c=t.color||16711680;return o.fillStyle(c,1),o.fillTriangle(s.x,s.y,a.x,a.y,p.x,p.y),o.setDepth(10),void 0!==t.rotation&&null!==t.rotation&&("object"===_typeof(t.rotation)?o.rotation=t.rotation.x:o.rotation=t.rotation),o}console.log("No scene yet, this should not happen.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateTriangle;

},{}],11:[function(require,module,exports){
"use strict";function preload(e,t){t.preloader.assets.forEach(function(t){"spritesheet"===t.type?e.load.spritesheet(t.key,t.url,{frameWidth:t.frameWidth,frameHeight:t.frameHeight}):"image"===t.type&&e.load.image(t.key,t.url)}),e.load.on("complete",function(){t.preloader.assets.forEach(function(t){"spritesheet"===t.type&&createCustomFramesAndAnimations(e,t)})})}function createCustomFramesAndAnimations(e,t){var a=function(a){var r=t.frameTags[a].frames.map(function(r,o){var s="".concat(t.key,"-").concat(a,"-").concat(o);return console.log("scene.textures",e.textures),e.textures.get(t.key).add(s,0,r.x,r.y,t.frameWidth,t.frameHeight),{key:s}});e.anims.create({key:a,frames:r,frameRate:10,repeat:-1})};for(var r in t.frameTags)a(r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=preload;

},{}],12:[function(require,module,exports){
"use strict";function setCursorStyle(e,t,o){e.on("pointerover",function(){t.game.canvas.style.cursor=o}),e.on("pointerout",function(){t.game.canvas.style.cursor="default"})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=setCursorStyle;

},{}]},{},[3])(3)
});
