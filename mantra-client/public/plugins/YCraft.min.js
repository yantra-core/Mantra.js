(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}(g.PLUGINS || (g.PLUGINS = {})).YCraft = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Actuator",{enumerable:!0,get:function(){return _Actuator.default}}),Object.defineProperty(exports,"Amplifier",{enumerable:!0,get:function(){return _Amplifier.default}}),Object.defineProperty(exports,"Button",{enumerable:!0,get:function(){return _Button.default}}),Object.defineProperty(exports,"Craft",{enumerable:!0,get:function(){return _YCraft.default}}),Object.defineProperty(exports,"Display",{enumerable:!0,get:function(){return _Display.default}}),Object.defineProperty(exports,"ElectricalSignal",{enumerable:!0,get:function(){return _ElectricalSignal.default}}),Object.defineProperty(exports,"LEDLight",{enumerable:!0,get:function(){return _LEDLight.default}}),Object.defineProperty(exports,"LaserSensor",{enumerable:!0,get:function(){return _LaserSensor.default}}),Object.defineProperty(exports,"Latch",{enumerable:!0,get:function(){return _Latch.default}}),Object.defineProperty(exports,"Mirror",{enumerable:!0,get:function(){return _Mirror.default}}),Object.defineProperty(exports,"MotionDetector",{enumerable:!0,get:function(){return _MotionDetector.default}}),Object.defineProperty(exports,"PressureSensor",{enumerable:!0,get:function(){return _PressureSensor.default}}),Object.defineProperty(exports,"Relay",{enumerable:!0,get:function(){return _Relay.default}}),Object.defineProperty(exports,"Rover",{enumerable:!0,get:function(){return _Rover.default}}),Object.defineProperty(exports,"VirtualMachine",{enumerable:!0,get:function(){return _VirtualMachine.default}}),Object.defineProperty(exports,"Wire",{enumerable:!0,get:function(){return _Wire.default}}),Object.defineProperty(exports,"YCraft",{enumerable:!0,get:function(){return _YCraft.default}});var _YCraft=_interopRequireDefault(require("./lib/YCraft.js")),_ElectricalSignal=_interopRequireDefault(require("./lib/signals/ElectricalSignal.js")),_Actuator=_interopRequireDefault(require("./lib/parts/Actuator.js")),_Amplifier=_interopRequireDefault(require("./lib/parts/Amplifier.js")),_Button=_interopRequireDefault(require("./lib/parts/Button.js")),_Display=_interopRequireDefault(require("./lib/parts/Display.js")),_LaserSensor=_interopRequireDefault(require("./lib/parts/LaserSensor.js")),_Latch=_interopRequireDefault(require("./lib/parts/Latch.js")),_LEDLight=_interopRequireDefault(require("./lib/parts/LEDLight.js")),_Mirror=_interopRequireDefault(require("./lib/parts/Mirror.js")),_MotionDetector=_interopRequireDefault(require("./lib/parts/MotionDetector.js")),_PressureSensor=_interopRequireDefault(require("./lib/parts/PressureSensor.js")),_Relay=_interopRequireDefault(require("./lib/parts/Relay.js")),_Rover=_interopRequireDefault(require("./lib/parts/Rover.js")),_VirtualMachine=_interopRequireDefault(require("./lib/parts/VirtualMachine.js")),_Wire=_interopRequireDefault(require("./lib/parts/Wire.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./lib/YCraft.js":3,"./lib/parts/Actuator.js":4,"./lib/parts/Amplifier.js":5,"./lib/parts/Button.js":6,"./lib/parts/Display.js":7,"./lib/parts/LEDLight.js":8,"./lib/parts/LaserSensor.js":9,"./lib/parts/Latch.js":10,"./lib/parts/Mirror.js":11,"./lib/parts/MotionDetector.js":12,"./lib/parts/PressureSensor.js":13,"./lib/parts/Relay.js":14,"./lib/parts/Rover.js":15,"./lib/parts/VirtualMachine.js":16,"./lib/parts/Wire.js":17,"./lib/signals/ElectricalSignal.js":18}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Part=void 0;var _EventEmitter2=_interopRequireDefault(require("./utils/EventEmitter.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,o=_getPrototypeOf(t);if(e){var n=_getPrototypeOf(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Part=exports.Part=function(t){_inherits(r,_EventEmitter2["default"]);var e=_createSuper(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,r),(t=e.call(this)).id=r.idCounter++,t.position={x:o,y:n,z:i},t.size={width:16,height:16,depth:16},t.props={},t}return _createClass(r,[{key:"setYCraft",value:function(t){this.yCraft=t}}]),r}();_defineProperty(Part,"idCounter",0);

},{"./utils/EventEmitter.js":19}],3:[function(require,module,exports){
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _EventEmitter2=_interopRequireDefault(require("./utils/EventEmitter.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var o,n=_getPrototypeOf(t);if(e){var r=_getPrototypeOf(this).constructor;o=Reflect.construct(n,arguments,r)}else o=n.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var YCraft=function(t){_inherits(o,_EventEmitter2["default"]);var e=_createSuper(o);function o(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=s.powerRequired,u=void 0!==a&&a,c=s.height,f=void 0===c?160:c,p=s.width,l=void 0===p?160:p,y=s.description,h=void 0===y?"A YCraft contraption":y;return _classCallCheck(this,o),(t=e.call(this)).position={x:n,y:r,z:i},t.height=f,t.width=l,t.description=h,t.powerRequired=u,t.parts=[],t.contraptions=[],t}return _createClass(o,[{key:"start",value:function(){this.parts.length>0&&(this.parts[0].onFn?this.parts[0].onFn():console.log("Warning: ".concat(this.parts[0].constructor.name," does not have an onFn method"))),this.contraptions.length>0&&this.contraptions.forEach(function(t){t.start()})}},{key:"stop",value:function(){this.parts.length>0&&(this.parts[0].offFn?this.parts[0].offFn():console.log("Warning: ".concat(this.parts[0].constructor.name," does not have an offFn method")))}},{key:"addContraption",value:function(t){var e=this,o=this.position.x,n=this.position.y,r=this.position.z;t.setPosition(t.position.x+o,t.position.y+n,t.position.z+r),this.contraptions.push(t),t.onAny(function(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];e.emit.apply(e,[t].concat(n))}),"function"==typeof t.setYCraft&&t.setYCraft(this)}},{key:"addPart",value:function(t){var e=this;t.position.x+=this.position.x,t.position.y+=this.position.y,t.position.z+=this.position.z,this.parts.push(t),t instanceof _EventEmitter2.default&&(t.onAny(function(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];e.emit.apply(e,[t].concat(n))}),"function"==typeof t.setYCraft&&t.setYCraft(this))}},{key:"findpart",value:function(t){return this.parts.find(function(e){return e instanceof t})}},{key:"setPowerRequired",value:function(t){this.config.powerRequired=t}},{key:"connect",value:function(t){t instanceof YCraftComponent&&(this.yCraft,t.yCraft)}},{key:"run",value:function(){}},{key:"tick",value:function(){this.parts.forEach(function(t){"function"==typeof t.update&&t.update()})}},{key:"setMode",value:function(t){this.mode=t}},{key:"setPosition",value:function(t,e,o){var n=t-this.position.x,r=e-this.position.y,i=o-this.position.z;this.position.x=t,this.position.y=e,this.position.z=o,this.parts.forEach(function(t){t.position.x+=n,t.position.y+=r,t.position.z+=i})}},{key:"toJSON",value:function(){var t=this;return{powerRequired:this.powerRequired,parts:this.parts.map(function(e){return{type:e.constructor.name,properties:t.getPartProperties(e),connections:t.getPartConnections(e),position:e.position,size:e.size}})}}},{key:"getPartProperties",value:function(t){var e={};if(t.props)for(var o in t.props)e[o]=t.props[o];return e}},{key:"getPartConnections",value:function(t){var e=[];return t.connectedParts?(t.connectedParts.forEach(function(t){e.push({id:t.id,type:t.constructor.name})}),e):e}}]),o}(),_default=exports.default=YCraft;

},{"./utils/EventEmitter.js":19}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Part2=require("../Part.js");function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Actuator=exports.default=function(t){_inherits(r,_Part2.Part);var e=_createSuper(r);function r(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).frequency,u=void 0===s?1e3:s;return _classCallCheck(this,r),(t=e.call(this,n,o,i)).type=r.type,t.isActive=!1,t.isOn=!1,t.onFn=t.start.bind(_assertThisInitialized(t)),t.offFn=t.stop.bind(_assertThisInitialized(t)),t.timers={pulse:null},t.frequency=u,t.connectedParts=[],t}return _createClass(r,[{key:"connect",value:function(t){"Wire"===t.constructor.name&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"receive",value:function(t){console.log("Actuator received signal",t),this.signal=t,this.toggle()}},{key:"toggle",value:function(){this.isOn?(this.stop(),this.emit("stop"),this.isOn=!1):(this.start(),this.emit("start"),this.isOn=!0,this.update())}},{key:"start",value:function(){var t=this;null===this.timers.pulse&&(this.timers.pulse=setInterval(function(){t.update()},this.frequency))}},{key:"stop",value:function(){null!==this.timers.pulse&&(clearInterval(this.timers.pulse),this.timers.pulse=null)}},{key:"update",value:function(){var t=this;this.isOn&&(this.emit("pulse",this.signal),this.connectedParts.forEach(function(e){return e.receive(t.signal)}))}},{key:"unload",value:function(){this.stop()}}]),r}();_defineProperty(Actuator,"type","Actuator");

},{"../Part.js":2}],5:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Part2=require("../Part.js"),_ElectricalSignal=_interopRequireDefault(require("../signals/ElectricalSignal.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey(i.key),i)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,i=_getPrototypeOf(t);if(e){var n=_getPrototypeOf(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Amplifier=exports.default=function(t){_inherits(r,_Part2.Part);var e=_createSuper(r);function r(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).amplitude,a=void 0===u?2:u;return _classCallCheck(this,r),"object"===_typeof(i)&&(a=i.amplitude||a,o=i.z||0,n=i.y||0,i=i.x||0),(t=e.call(this,i,n,o)).type=r.type,t.connectedParts=[],t.mode="continuous",t.amplitude=a,t.signal=new _ElectricalSignal.default,t.outputs=[],t.inputs=[],t.onFn=t.activate.bind(_assertThisInitialized(t)),t.offFn=t.deactivate.bind(_assertThisInitialized(t)),t}return _createClass(r,[{key:"setYCraft",value:function(t){this.yCraft=t}},{key:"connect",value:function(t){void 0!==t.inputs&&t.inputs.push(this),this.outputs.push(t)}},{key:"activate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!0,this.emit("activate",t),this.transmit(t)}},{key:"deactivate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!1,this.emit("deactivate",t),t.binarySignal=0,this.outputs.forEach(function(e){e.receive&&"function"==typeof e.receive&&"continuous"===e.mode&&e.receive(t)})}},{key:"toggle",value:function(){this.isOn?this.deactivate():this.activate()}},{key:"receive",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn?this.deactivate(t):(t.current=t.current*this.amplitude,this.activate(t))}},{key:"transmit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.signal;this.outputs.forEach(function(e){e.receive&&e.receive(t)})}},{key:"update",value:function(){}}]),r}();_defineProperty(Amplifier,"type","Amplifier");

},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],6:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Part2=require("../Part.js"),_ElectricalSignal=_interopRequireDefault(require("../signals/ElectricalSignal.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Button=exports.default=function(e){_inherits(r,_Part2.Part);var t=_createSuper(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,r),"object"===_typeof(n)&&(i=n.z||0,o=n.y||0,n=n.x||0),(e=t.call(this,n,o,i)).type=r.type,e.signal=new _ElectricalSignal.default,e.connectedParts=[],e.isOn=!1,e.onFn=e.press.bind(_assertThisInitialized(e)),e.offFn=e.release.bind(_assertThisInitialized(e)),e}return _createClass(r,[{key:"setYCraft",value:function(e){this.yCraft=e}},{key:"connect",value:function(e){void 0!==e.inputs&&e.inputs.push(this),this.connectedParts.push(e)}},{key:"press",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!0,this.emit("press",e),this.connectedParts.forEach(function(t){t.receive&&"function"==typeof t.receive&&t.receive(e)})}},{key:"release",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!1,this.emit("release"),e.binarySignal=0,this.connectedParts.forEach(function(t){t.receive&&"function"==typeof t.receive&&"continuous"===t.mode&&t.receive(e)})}},{key:"receive",value:function(e){}},{key:"transmit",value:function(e){this.connectedParts.forEach(function(t){t.receive&&t.receive(e)})}}]),r}();_defineProperty(Button,"type","Button");

},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],7:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Part2=require("../Part.js"),_ElectricalSignal=_interopRequireDefault(require("../signals/ElectricalSignal.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,o=_getPrototypeOf(t);if(e){var n=_getPrototypeOf(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Display=exports.default=function(t){_inherits(r,_Part2.Part);var e=_createSuper(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).text,c=void 0===u?"Your Sign Here":u;return _classCallCheck(this,r),"object"===_typeof(o)&&(i=o.z||0,n=o.y||0,o=o.x||0),(t=e.call(this,o,n,i)).type=r.type,t.text=c,t.connectedParts=[],t.inputs=[],t}return _createClass(r,[{key:"setText",value:function(t){this.text=t,console.log("Display text set to: ".concat(this.text))}},{key:"connect",value:function(t){this.connectedParts.push(t),this.inputs.push(t)}},{key:"receive",value:function(t){t instanceof _ElectricalSignal.default&&this.setText(t.data)}}]),r}();_defineProperty(Display,"type","Display");

},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],8:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Part2=require("../Part.js");function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,o=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var LEDLight=exports.default=function(t){_inherits(r,_Part2.Part);var e=_createSuper(r);function r(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=a.wattage,u=void 0===s?40:s,c=a.maxWattage,f=void 0===c?120:c;return _classCallCheck(this,r),"object"===_typeof(o)&&(u=o.wattage||u,f=o.maxWattage||f,n=o.z||0,i=o.y||0,o=o.x||0),(t=e.call(this,o,i,n)).toggleFn=t.toggle.bind(_assertThisInitialized(t)),t.mode="continuous",t.onFn=t.activate.bind(_assertThisInitialized(t)),t.offFn=t.deactivate.bind(_assertThisInitialized(t)),t.type=r.type,t.isOn=!1,t.color=65280,t.props={},t.props.wattage=u,t.props.maxWattage=f,t.props.isBroken=!1,t}return _createClass(r,[{key:"setYCraft",value:function(t){this.yCraft=t}},{key:"activate",value:function(t){this.isOn=!0,this.emit("activate",t)}},{key:"deactivate",value:function(t){this.isOn=!1,this.emit("deactivate",t)}},{key:"toggle",value:function(t){this.isOn?this.deactivate(t):this.activate(t)}},{key:"receive",value:function(t){if(!this.props.isBroken){this.signal=t;var e=t.calculatePower();this.isOn?this.deactivate(t):(!this.yCraft.powerRequired||e>=this.props.wattage)&&this.activate(t)}}},{key:"break",value:function(t){this.props.isBroken=!0,this.emit("broken")}},{key:"handleCollision",value:function(t){this.props.isBroken||"Rover"===t.type&&(this.isOn=!1,this.props.isBroken=!0,this.props.color="grey",this.emit("broken"))}},{key:"update",value:function(){this.props.isBroken}}]),r}();_defineProperty(LEDLight,"type","LEDLight");

},{"../Part.js":2}],9:[function(require,module,exports){
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _EventEmitter2=_interopRequireDefault(require("../utils/EventEmitter.js")),_ElectricalSignal=_interopRequireDefault(require("../signals/ElectricalSignal.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,o=_getPrototypeOf(e);if(t){var n=_getPrototypeOf(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var LaserSensor=exports.default=function(e){_inherits(r,_EventEmitter2["default"]);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).connectedComponent=null,e.laserSignal=new _ElectricalSignal.default({voltage:5,current:.1}),e}return _createClass(r,[{key:"connect",value:function(e){this.connectedComponent=e}},{key:"emitLaser",value:function(){this.connectedComponent&&this.connectedComponent.receive(this.laserSignal)}},{key:"receive",value:function(e){}}]),r}();

},{"../signals/ElectricalSignal.js":18,"../utils/EventEmitter.js":19}],10:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Part2=require("../Part.js"),_ElectricalSignal=_interopRequireDefault(require("../signals/ElectricalSignal.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Latch=exports.default=function(e){_inherits(r,_Part2.Part);var t=_createSuper(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,r),(e=t.call(this,n,o,i)).type=r.type,e.connectedParts=[],e.signal=new _ElectricalSignal.default,e.isLatched=!1,e.onFn=e.engage.bind(_assertThisInitialized(e)),e.offFn=e.disengage.bind(_assertThisInitialized(e)),e}return _createClass(r,[{key:"setYCraft",value:function(e){this.yCraft=e}},{key:"connect",value:function(e){"Wire"===e.constructor.name&&e.inputs.push(this),this.connectedParts.push(e)}},{key:"toggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.signal;this.isLatched?this.disengage(e):this.engage(e)}},{key:"engage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.signal;this.isLatched=!0,this.emit("engage",e),this.transmit(e)}},{key:"disengage",value:function(e){this.isLatched=!1,this.emit("disengage"),this.transmit(e)}},{key:"transmit",value:function(e){this.connectedParts.forEach(function(t){t.receive&&t.receive(e)})}}]),r}();_defineProperty(Latch,"type","Latch");

},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],11:[function(require,module,exports){
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _EventEmitter2=_interopRequireDefault(require("../utils/EventEmitter.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,o=_getPrototypeOf(e);if(t){var n=_getPrototypeOf(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mirror=exports.default=function(e){_inherits(r,_EventEmitter2["default"]);var t=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=t.call(this)).connectedComponent=null,e.orientation=0,e}return _createClass(r,[{key:"connect",value:function(e){this.connectedComponent=e}},{key:"setOrientation",value:function(e){this.orientation=e}},{key:"receive",value:function(e){if("LightSignal"===e.constructor.name&&(console.log("Mirror: Reflecting laser at orientation ".concat(this.orientation," degrees.")),this.connectedComponent)){var t=_objectSpread(_objectSpread({},e),{},{direction:this.calculateReflectionDirection(e.direction)});this.connectedComponent.receive(t)}}},{key:"calculateReflectionDirection",value:function(e){return(e+2*this.orientation)%360}}]),r}();

},{"../utils/EventEmitter.js":19}],12:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Part2=require("../Part.js"),_ElectricalSignal=_interopRequireDefault(require("../signals/ElectricalSignal.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_toPropertyKey(r.key),r)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var o,r=_getPrototypeOf(t);if(e){var n=_getPrototypeOf(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,e,o){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,e||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var MotionDetector=exports.default=function(t){_inherits(o,_Part2.Part);var e=_createSuper(o);function o(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=c.motionTimeout,s=void 0===u?4e3:u,f=c.debounceDelay,l=void 0===f?500:f;return _classCallCheck(this,o),(t=e.call(this,r,n,i)).type=o.type,t.isConnected=!1,t.connectedParts=[],t.motionTimeout=s,t.debounceDelay=l,t.lastMotionTime=0,t.motionTimer=null,t.onFn=t.detectMotion.bind(_assertThisInitialized(t)),t.offFn=function(){},t}return _createClass(o,[{key:"connect",value:function(t){this.isConnected=!0,"Wire"===t.constructor.name&&t.inputs.push(this),this.connectedParts.push(t)}},{key:"detectMotion",value:function(){var t=this,e=Date.now();if(!(e-this.lastMotionTime<this.debounceDelay))if(this.lastMotionTime=e,this.isConnected){var o=new _ElectricalSignal.default({voltage:5});o.encodeUSB(1),console.log("Motion detected!"),this.transmit(o),this.emit("motion",o),clearTimeout(this.motionTimer),this.motionTimer=setTimeout(function(){t.emit("still")},this.motionTimeout)}else console.log("Motion detector is not connected to any component.")}},{key:"transmit",value:function(t){this.connectedParts.forEach(function(e){"function"==typeof e.receive&&e.receive(t)})}},{key:"update",value:function(){}}]),o}();_defineProperty(MotionDetector,"type","MotionDetector");

},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],13:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _ElectricalSignal=_interopRequireDefault(require("../signals/ElectricalSignal.js")),_Part2=require("../Part.js");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var PressureSensor=exports.default=function(e){_inherits(r,_Part2.Part);var t=_createSuper(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).debounceDelay,s=void 0===u?500:u;return _classCallCheck(this,r),(e=t.call(this,n,o,i)).type=r.type,e.connectedParts=[],e.signal=new _ElectricalSignal.default,e.debounceDelay=s,e.lastTriggerTime=0,e.onFn=e.trigger.bind(_assertThisInitialized(e)),e.offFn=e.release.bind(_assertThisInitialized(e)),e}return _createClass(r,[{key:"connect",value:function(e){"Wire"===e.constructor.name&&e.inputs.push(this),this.connectedParts.push(e)}},{key:"toggle",value:function(){Date.now()-this.lastTriggerTime<this.debounceDelay||(this.isOn?this.release():this.trigger())}},{key:"trigger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.signal;this.lastTriggerTime=Date.now(),this.isOn=!0,this.emit("trigger",e),this.connectedParts.forEach(function(t){t.onFn&&"function"==typeof t.onFn&&t.onFn(e)})}},{key:"release",value:function(){var e=this;this.isOn=!1,this.emit("release"),this.connectedParts.forEach(function(t){t.offFn&&"function"==typeof t.offFn&&t.offFn(e.signal)})}},{key:"receive",value:function(e){}}]),r}();_defineProperty(PressureSensor,"type","PressureSensor");

},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],14:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Part2=require("../Part.js"),_ElectricalSignal=_interopRequireDefault(require("../signals/ElectricalSignal.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey(i.key),i)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,i=_getPrototypeOf(t);if(e){var n=_getPrototypeOf(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Relay=exports.default=function(t){_inherits(r,_Part2.Part);var e=_createSuper(r);function r(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).amplitude;return _classCallCheck(this,r),"object"===_typeof(i)&&(o=i.z||0,n=i.y||0,i=i.x||0),(t=e.call(this,i,n,o)).type=r.type,t.connectedParts=[],t.mode="continuous",t.signal=new _ElectricalSignal.default,t.outputs=[],t.inputs=[],t.onFn=t.activate.bind(_assertThisInitialized(t)),t.offFn=t.deactivate.bind(_assertThisInitialized(t)),t}return _createClass(r,[{key:"setYCraft",value:function(t){this.yCraft=t}},{key:"connect",value:function(t){void 0!==t.inputs&&t.inputs.push(this),this.outputs.push(t)}},{key:"activate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!0,this.emit("activate",t),this.transmit(t)}},{key:"deactivate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn=!1,this.emit("deactivate",t),t.binarySignal=0,this.outputs.forEach(function(e){e.receive&&"function"==typeof e.receive&&"continuous"===e.mode&&e.receive(t)})}},{key:"toggle",value:function(){this.isOn?this.deactivate():this.activate()}},{key:"receive",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.signal;this.isOn?this.deactivate(t):this.activate(t)}},{key:"transmit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.signal;this.outputs.forEach(function(e){e.receive&&e.receive(t)})}},{key:"update",value:function(){}}]),r}();_defineProperty(Relay,"type","Relay");

},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],15:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Part2=require("../Part.js");function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_toPropertyKey(r.key),r)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var o,r=_getPrototypeOf(t);if(e){var n=_getPrototypeOf(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,e,o){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,e||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Rover=function(t){_inherits(o,_Part2.Part);var e=_createSuper(o);function o(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=s.velocity,a=void 0===l?{x:5,y:5}:l,u=s.color,c=void 0===u?13421772:u,f=s.movementRate,p=void 0===f?16.666:f;return _classCallCheck(this,o),(t=e.call(this,r,n,i)).type=o.type,t.props={},t.props.velocity=a,t.props.color=c,t.props.movementRate=p,t.state="inactive",t.isOn=!1,t.timers={movement:null},t.defaultDelay=100,t.collisionCooldown=!1,t.onFn=t.start.bind(_assertThisInitialized(t)),t.offFn=t.stop.bind(_assertThisInitialized(t)),t.on("collision",t.handleCollision),t}return _createClass(o,[{key:"setYCraft",value:function(t){this.yCraft=t}},{key:"start",value:function(){var t=this;this.state="active",this.isOn=!0,this.timers.movementInterval&&clearInterval(this.timers.movementInterval),this.timers.movementInterval=setInterval(function(){return t.update()},this.props.movementRate)}},{key:"stop",value:function(){this.state="inactive",this.isOn=!1,this.timers.movementInterval&&clearInterval(this.timers.movementInterval)}},{key:"update",value:function(){"active"===this.state&&(this.emit("move",this.position),this.position.x+=this.props.velocity.x,this.position.y+=this.props.velocity.y)}},{key:"handleCollision",value:function(t){"Wire"!==t.name&&"Rover"!==t.name&&(this.collisionCooldown||(this.props.velocity.x*=-1,this.props.velocity.y*=-1,this.emit("move",this.position),this.startCollisionCooldown()))}},{key:"startCollisionCooldown",value:function(){var t=this;this.collisionCooldown=!0,setTimeout(function(){t.collisionCooldown=!1},this.props.movementRate)}},{key:"unload",value:function(){this.timers.movementInterval&&clearInterval(this.timers.movementInterval)}}]),o}();_defineProperty(Rover,"type","Rover");var _default=exports.default=Rover;

},{"../Part.js":2}],16:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Part2=require("../Part.js"),_ElectricalSignal=_interopRequireDefault(require("../signals/ElectricalSignal.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,o=_getPrototypeOf(t);if(e){var n=_getPrototypeOf(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var VirtualMachine=exports.default=function(t){_inherits(r,_Part2.Part);var e=_createSuper(r);function r(){var t;return _classCallCheck(this,r),(t=e.call(this)).type=r.type,t.props={},t.image=function(t){return t},t.connectedParts=[],t.inputs=[],t.outputs=[],t}return _createClass(r,[{key:"setImage",value:function(t){this.image=t}},{key:"connect",value:function(t){this.connectedParts.push(t),this.outputs.push(t)}},{key:"receive",value:function(t){var e=this.image(t);this.transmit(e)}},{key:"transmit",value:function(t){this.emit("transmit",this.outputs,t),this.outputs.forEach(function(e){e.receive&&e.receive(t)})}}]),r}();_defineProperty(VirtualMachine,"type","VirtualMachine");

},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],17:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _Part2=require("../Part.js"),_ElectricalSignal=_interopRequireDefault(require("../signals/ElectricalSignal.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_toPropertyKey(n.key),n)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var r,n=_getPrototypeOf(t);if(e){var o=_getPrototypeOf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _possibleConstructorReturn(this,r)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Wire=exports.default=function(t){_inherits(r,_Part2.Part);var e=_createSuper(r);function r(){var t,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).signalLoss,o=void 0===n||n;return _classCallCheck(this,r),(t=e.call(this)).type=r.type,t.props={signalLoss:o,resistivity:1.68e-8,crossSectionalArea:208e-8},t.connectedParts=[],t.segments=[],t.inputs=[],t.outputs=[],t.onFn=t.receive.bind(_assertThisInitialized(t)),t.offFn=t.stopTransmit.bind(_assertThisInitialized(t)),t.mode="continuous",t}return _createClass(r,[{key:"calculateResistance",value:function(t){return this.props.resistivity*t/this.props.crossSectionalArea}},{key:"connect",value:function(t){this.connectedParts.push(t),this.outputs.push(t),this.updateSegmentLengths(t)}},{key:"updateSegmentLengths",value:function(t){this.calculateSegmentLengthsForPartArray(t,this.inputs),this.calculateSegmentLengthsForPartArray(t,this.outputs)}},{key:"calculateSegmentLengthsForPartArray",value:function(t,e){var r=this;e.forEach(function(e){if(e!==t){var n=r.calculateSegment(t.position,e.position);r.segments.push(n)}})}},{key:"calculateSegment",value:function(t,e){return{input:t,output:e,length:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)+Math.pow(e.z-t.z,2))}}},{key:"receive",value:function(t){this.isOn?this.stopTransmit(t):(this.props.signalLoss&&(t=this.applySignalLoss(t)),this.transmit(t))}},{key:"applySignalLoss",value:function(t){var e=this,r=this.segments.reduce(function(r,n){var o=e.calculateResistance(n.length);return r+t.current*o},0);return t.voltage=Math.max(t.voltage-r,0),t}},{key:"stopTransmit",value:function(t){this.isOn=!1,this.emit("stopTransmit",t),t.binarySignal=0,this.outputs.forEach(function(e){e.receive&&"function"==typeof e.receive&&"continuous"===e.mode&&e.receive(t)})}},{key:"transmit",value:function(t){this.isOn=!0,this.props.signalLoss&&(t=this.applySignalLoss(t)),this.emit("transmit",this.outputs,t),this.outputs.forEach(function(e){e.receive&&e.receive(t)})}}]),r}();_defineProperty(Wire,"type","Wire");

},{"../Part.js":2,"../signals/ElectricalSignal.js":18}],18:[function(require,module,exports){
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var ElectricalSignal=exports.default=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.voltage,o=void 0===r?5:r,i=t.current,n=void 0===i?1:i,a=t.resistance,c=void 0===a?0:a,l=t.capacitance,u=void 0===l?0:l,s=t.inductance,f=void 0===s?0:s,y=t.frequency,p=void 0===y?0:y,v=t.phaseAngle,d=void 0===v?0:v,h=t.powerFactor,b=void 0===h?1:h;_classCallCheck(this,e),this.voltage=o,this.current=n,this.resistance=c,this.capacitance=u,this.inductance=f,this.frequency=p,this.phaseAngle=d,this.powerFactor=b,this.binarySignal=1}return _createClass(e,[{key:"calculatePower",value:function(){return this.voltage*this.current}},{key:"encodeUSB",value:function(e){var t=1===e?.2:-.2;this.dPlusVoltage=this.voltage+t,this.dMinusVoltage=this.voltage-t}}]),e}();

},{}],19:[function(require,module,exports){
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var EventEmitter=exports.default=function(){function e(){_classCallCheck(this,e),this.listeners={},this.anyListeners=[]}return _createClass(e,[{key:"onAny",value:function(e){this.anyListeners.push(e)}},{key:"offAny",value:function(e){this.anyListeners=this.anyListeners.filter(function(t){return t!==e})}},{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}},{key:"off",value:function(e,t){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter(function(e){return e!==t}))}},{key:"once",value:function(e,t){var r=this;this.on(e,function n(){r.off(e,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];t.apply(r,o)})}},{key:"emit",value:function(e){for(var t=this,r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.anyListeners.forEach(function(r){try{var i=e;t.type&&(i=t.type+"::"+e),r.call.apply(r,[t,i].concat(n))}catch(t){console.error('Error when executing any listener for event "'.concat(e,'":'),t)}});var o=this.listeners[e];o&&o.forEach(function(r){try{r.apply(t,n)}catch(t){console.error('Error when executing listener for event "'.concat(e,'":'),t)}})}},{key:"listenerCount",value:function(e){return this.listeners[e]?this.listeners[e].length:0}}]),e}();

},{}],20:[function(require,module,exports){
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var Plugin=function(){function e(t){_classCallCheck(this,e),this.game=t,this.name="Plugin"}return _createClass(e,[{key:"init",value:function(){throw new Error('Method "init" must be implemented')}},{key:"update",value:function(e,t){throw new Error('Method "update" must be implemented')}},{key:"render",value:function(){}},{key:"destroy",value:function(){}}]),e}(),_default=exports.default=Plugin;

},{}],21:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _index=require("../../../../YCraft.js/index.js"),_Plugin2=_interopRequireDefault(require("../../Plugin.js")),_createEntityFromPart=_interopRequireDefault(require("./lib/createEntityFromPart.js")),_bindPartEvents=_interopRequireDefault(require("./lib/bindPartEvents.js")),_createWire=_interopRequireDefault(require("./lib/parts/createWire.js")),_bindWire=_interopRequireDefault(require("./lib/events/bindWire.js")),_bindButton=_interopRequireDefault(require("./lib/events/bindButton.js")),_bindDisplay=_interopRequireDefault(require("./lib/events/bindDisplay.js")),_bindLEDLight=_interopRequireDefault(require("./lib/events/bindLEDLight.js")),_bindActuator=_interopRequireDefault(require("./lib/events/bindActuator.js")),_bindAmplifer=_interopRequireDefault(require("./lib/events/bindAmplifer.js")),_bindLatch=_interopRequireDefault(require("./lib/events/bindLatch.js")),_bindMotionDetector=_interopRequireDefault(require("./lib/events/bindMotionDetector.js")),_bindRelay=_interopRequireDefault(require("./lib/events/bindRelay.js")),_bindPressureSensor=_interopRequireDefault(require("./lib/events/bindPressureSensor.js")),_bindRover=_interopRequireDefault(require("./lib/events/bindRover.js")),_contraptionExamples=_interopRequireDefault(require("./contraption-examples.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_toPropertyKey(r.key),r)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var i,r=_getPrototypeOf(t);if(e){var n=_getPrototypeOf(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _defineProperty(t,e,i){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,e||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var YCraft=function(t){_inherits(i,_Plugin2["default"]);var e=_createSuper(i);function i(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.contraption,o=void 0===n?null:n,a=r.contraptions,s=void 0===a?null:a;r.useDefaultContraption;return _classCallCheck(this,i),(t=e.call(this)).id=i.id,"function"!=typeof o||(t.contraption=o(),t.contraptionSource=o.toString()),t.contraptions=s,t.createEntityFromPart=_createEntityFromPart.default.bind(_assertThisInitialized(t)),t.bindWire=_bindWire.default.bind(_assertThisInitialized(t)),t.createWire=_createWire.default.bind(_assertThisInitialized(t)),t.bindButton=_bindButton.default.bind(_assertThisInitialized(t)),t.bindDisplay=_bindDisplay.default.bind(_assertThisInitialized(t)),t.bindLEDLight=_bindLEDLight.default.bind(_assertThisInitialized(t)),t.bindActuator=_bindActuator.default.bind(_assertThisInitialized(t)),t.bindAmplifier=_bindAmplifer.default.bind(_assertThisInitialized(t)),t.bindLatch=_bindLatch.default.bind(_assertThisInitialized(t)),t.bindMotionDetector=_bindMotionDetector.default.bind(_assertThisInitialized(t)),t.bindRelay=_bindRelay.default.bind(_assertThisInitialized(t)),t.bindPressureSensor=_bindPressureSensor.default.bind(_assertThisInitialized(t)),t.bindRover=_bindRover.default.bind(_assertThisInitialized(t)),t.partEventListeners=_bindPartEvents.default.bind(_assertThisInitialized(t)),t}return _createClass(i,[{key:"init",value:function(t){this.game=t,this.game.contraption=this.contraption,this.game.systemsManager.addSystem(this.id,this),this.contraption?(this.initContraption(this.contraption),this.contraption.start):this.useDefaultContraption}},{key:"initContraption",value:function(t){var e=this;t.start,t.onAny(function(t){}),t.contraptions.length>0&&t.contraptions.forEach(function(t){var i=t.position.x+t.width/2,r=t.position.y+t.height/10-5;e.game.createEntity({type:"TEXT",body:!1,text:t.description,position:{x:i,y:r},style:{fontSize:"16px"},width:t.width,height:t.height/2,isStatic:!0,isSensor:!0})}),t.parts.length>0&&t.parts.forEach(function(i){e.partEventListeners(i,t);e.createEntityFromPart(i,t)}),t.contraptions.length>0&&t.contraptions.forEach(function(t){t.parts.forEach(function(i){e.partEventListeners(i,t);e.createEntityFromPart(i,t)})})}},{key:"clearAllParts",value:function(){var t=this;this.game.entities.forEach(function(e){if("PART"===e.type){var i=e.yCraft.part;i.unload&&i.unload(),t.game.removeEntity(e.id)}"TEXT"===e.type&&t.game.removeEntity(e.id)})}},{key:"setContraption",value:function(t){console.log("Mantra.YCraft Plugin - Setting Contraption",t),this.contraption=t,this.game.contraption=t,this.game.systems["gui-ycraft"]&&this.game.systems["gui-ycraft"].setContraption(t,this.contraptionSource),this.initContraption(t)}},{key:"collisionActive",value:function(t,e,i){}},{key:"collisionEnd",value:function(t,e,i){if(e.myEntityId&&i.myEntityId){var r=e.myEntityId,n=i.myEntityId,o=this.game.entities.get(r),a=this.game.entities.get(n);if(!o||!a)return;this.processCollisionEnd(o,a,i,n),this.processCollisionEnd(a,o,e,r)}}},{key:"handleCollision",value:function(t,e,i){if(e.myEntityId&&i.myEntityId){var r=e.myEntityId,n=i.myEntityId,o=this.game.entities.get(r),a=this.game.entities.get(n);if(!o||!a)return;this.processCollisionStart(o,a,i,n),this.processCollisionStart(a,o,e,r)}}},{key:"processCollisionStart",value:function(t,e,i,r){if(t.yCraft){if("Wire"===t.name||e.yCraft&&"Wire"===e.name)return;var n=new _index.ElectricalSignal;n.data={entityId:r,entity:e,body:i},this.triggerYCraftPart(t.yCraft.part,n)}}},{key:"processCollisionEnd",value:function(t,e,i,r){t.yCraft&&!e.yCraft&&this.releaseYCraftPart(t.yCraft.part)}},{key:"releaseYCraftPart",value:function(t){console.log("RELEASE PART",t),t.release&&t.release()}},{key:"triggerYCraftPart",value:function(t,e){t.trigger&&t.trigger(e),t.press&&t.press(),t.detectMotion&&t.detectMotion(),t.toggle&&t.toggle()}},{key:"update",value:function(){}},{key:"render",value:function(){}},{key:"destroy",value:function(){}}]),i}();_defineProperty(YCraft,"id","ycraft");var _default=exports.default=YCraft;

},{"../../../../YCraft.js/index.js":1,"../../Plugin.js":20,"./contraption-examples.js":22,"./lib/bindPartEvents.js":23,"./lib/createEntityFromPart.js":24,"./lib/events/bindActuator.js":25,"./lib/events/bindAmplifer.js":26,"./lib/events/bindButton.js":27,"./lib/events/bindDisplay.js":28,"./lib/events/bindLEDLight.js":29,"./lib/events/bindLatch.js":30,"./lib/events/bindMotionDetector.js":31,"./lib/events/bindPressureSensor.js":32,"./lib/events/bindRelay.js":33,"./lib/events/bindRover.js":34,"./lib/events/bindWire.js":35,"./lib/parts/createWire.js":36}],22:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createColorPuzzle;var _index=require("../../../../YCraft.js/index.js");function createColorPuzzle(){var e=new _index.YCraft(0,-150,0,{description:"Simple Light",height:350,width:500}),n=new _index.Button(-100,-150,0),t=new _index.Latch(-100,0,0),d=new _index.LEDLight(100,-75,10,{wattage:60,height:250,width:250});n.connect(d),t.connect(d),e.addPart(d),e.addPart(n),e.addPart(t);var a=new _index.YCraft(0,600,0,{description:"Wired Light",height:400,width:800}),r=new _index.Wire,i=new _index.Wire,c=new _index.Button(-150,-150,0),o=new _index.Latch(-150,0,0),w=new _index.Relay(0,-75,0),x=new _index.LEDLight(150,-75,800,{wattage:60,height:250,width:250});c.connect(r),o.connect(r),r.connect(w),w.connect(i),i.connect(x),a.addPart(x),a.addPart(c),a.addPart(o),a.addPart(r),a.addPart(i);var _=new _index.YCraft;return _.addContraption(e),_.addContraption(a),_}function createSecuritySystem(){var e=new _index.YCraft,n=new _index.MotionDetector(-150,-150,0),t=new _index.PressureSensor(150,-150,0),d=new _index.Actuator(450,-250,0),a=new _index.LEDLight(450,0,200,{wattage:60}),r=new _index.Button(50,200,0),i=new _index.Wire,c=new _index.Wire,o=new _index.Wire,w=new _index.Wire;return n.connect(i),i.connect(d),t.connect(c),c.connect(d),r.connect(o),o.connect(d),d.connect(w),w.connect(a),e.addPart(n),e.addPart(t),e.addPart(a),e.addPart(r),e.addPart(d),e.addPart(i),e.addPart(c),e.addPart(o),e.addPart(w),console.log(e),e}

},{"../../../../YCraft.js/index.js":1}],23:[function(require,module,exports){
"use strict";function partEventListeners(e,t){var s="bind"+e.type;"function"==typeof this[s]?this[s](e,t):(console.log("missing",s),alert("missing bind"+s))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=partEventListeners;

},{}],24:[function(require,module,exports){
"use strict";function createEntityFromPart(t,e){var i,r=this.game;function o(t,e,o){var s={name:e.type,collisionActive:!0,collisionStart:!0,collisionEnd:!0,type:"PART",color:e.props.color,position:e.position,width:e.size.width,height:e.size.height,text:e.text||null,isStatic:!0,yCraft:{part:e,contraption:o}};for(var a in t)s[a]=t[a];return i=r.createEntity(s)}switch(t.type){case"Wire":i=this.createWire(t,e);break;case"PressureSensor":case"Rover":i=o({isStatic:!1,isSensor:!0},t,e);break;default:i=o({},t,e)}if(i){if(Array.isArray(i)){var s=[];i.forEach(function(t){s.push(t.id)}),t.entities=s}else t.entityId=i.id;if("Wire"!==t.type&&"Display"!==t.type){var a=t.position.x-t.size.width/4;this.game.createEntity({type:"TEXT",text:t.type,position:{x:a,y:t.position.y+t.size.height+10},width:t.size.width,height:t.size.height,isStatic:!0,isSensor:!0,style:{font:"10px monospace"},yCraft:{part:t,contraption:e}})}return i}console.error("No entity created for part",t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createEntityFromPart;var partColors={ElectricalSignal:"#FFD700",Actuator:"#808080",Amplifier:"#00008B",Button:"#FF4500",LaserSensor:"#800080",Latch:"#B8860B",LEDLight:"#00FF00",Mirror:"#C0C0C0",MotionDetector:"#FF69B4",PressureSensor:"#4682B4",Relay:"#A52A2A",Rover:"#8B4513"};

},{}],25:[function(require,module,exports){
"use strict";function bindLatchEvents(t,n){var e=this.game;t.on("pulse",function(){e.updateEntity({id:t.entityId,color:15732480}),setTimeout(function(){e.updateEntity({id:t.entityId,color:16777215})},300)}),t.on("on",function(){e.updateEntity({id:t.entityId,color:16776960})}),t.on("off",function(){e.updateEntity({id:t.entityId,color:16777215})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=bindLatchEvents;

},{}],26:[function(require,module,exports){
"use strict";function bindAmpliferEvents(t,e){var i=this.game;t.on("activate",function(){i.updateEntity({id:t.entityId,color:16776960})}),t.on("deactivate",function(){i.updateEntity({id:t.entityId,color:16777215})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=bindAmpliferEvents;

},{}],27:[function(require,module,exports){
"use strict";function bindButtonEvents(t,e){var n=this.game;t.on("press",function(){n.updateEntity({id:t.entityId,color:10132687})}),t.on("release",function(){n.updateEntity({id:t.entityId,color:16777215})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=bindButtonEvents;

},{}],28:[function(require,module,exports){
"use strict";function bindDisplayEvents(e,t){this.game}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=bindDisplayEvents;

},{}],29:[function(require,module,exports){
"use strict";function bindLEDLightEvents(t,e){var n=this.game;t.onAny(function(t,e){}),t.on("activate",function(){n.updateEntity({id:t.entityId,color:16776960})}),t.on("deactivate",function(){try{n.updateEntity({id:t.entityId,color:16777215})}catch(t){console.log("err",t)}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=bindLEDLightEvents;

},{}],30:[function(require,module,exports){
"use strict";function bindLatchEvents(t,e){var n=this;this.game;t.on("engage",function(){n.game.updateEntity({id:t.entityId,color:16776960})}),t.on("disengage",function(){n.game.updateEntity({id:t.entityId,color:16777215})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=bindLatchEvents;

},{}],31:[function(require,module,exports){
"use strict";function bindLatchEvents(t,e){var n=this.game;t.on("motion",function(){n.updateEntity({id:t.entityId,color:16776960})}),t.on("still",function(){n.updateEntity({id:t.entityId,color:16777215})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=bindLatchEvents;

},{}],32:[function(require,module,exports){
"use strict";function bindLatchEvents(t,e){var n=this.game;t.on("trigger",function(e){var i=e.data.entity;"BLOCK"===i.type&&console.log("collidedWith",i),n.updateEntity({id:t.entityId,color:16776960})}),t.on("release",function(){n.updateEntity({id:t.entityId,color:16777215})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=bindLatchEvents;

},{}],33:[function(require,module,exports){
"use strict";function bindRelayEvents(e,t){var n=this;this.game;e.on("activate",function(){console.log("Relay on",e),n.game.updateEntity({id:e.entityId,color:16776960})}),e.on("deactivate",function(){console.log("Relay on",e),n.game.updateEntity({id:e.entityId,color:16777215})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=bindRelayEvents;

},{}],34:[function(require,module,exports){
"use strict";function bindRoverEvents(e,t){var n=this.game;e.on("move",function(t){n.updateEntity({id:e.entityId,position:t})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=bindRoverEvents;

},{}],35:[function(require,module,exports){
"use strict";function bindWireEvents(t,i){var e=this.game;t.on("transmit",function(i){Array.isArray(t.entities)&&t.entities.forEach(function(t){e.updateEntity({id:t,color:16776960})})}),t.on("stopTransmit",function(){Array.isArray(t.entities)&&t.entities.forEach(function(t){e.updateEntity({id:t,color:16777215})})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=bindWireEvents;

},{}],36:[function(require,module,exports){
"use strict";function createWire(t,i){var o=this,n=[];return t.inputs.forEach(function(s){t.outputs.forEach(function(e){var p={x:(s.position.x+e.position.x)/2,y:(s.position.y+e.position.y)/2,z:(s.position.z+e.position.z)/2},r=Math.atan2(e.position.y-s.position.y,e.position.x-s.position.x),a=Math.hypot(e.position.x-s.position.x,e.position.y-s.position.y),y=o.game.createEntity({name:t.type,isSensor:!0,type:"PART",position:p,width:a,height:3,rotation:r,isStatic:!0,yCraft:{part:t,contraption:i}});n.push(y)})}),n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createWire;

},{}]},{},[21])(21)
});
