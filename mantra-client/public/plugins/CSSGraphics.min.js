(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}(g.PLUGINS || (g.PLUGINS = {})).CSSGraphics = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var GraphicInterface=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"init",value:function(){throw new Error("init method not implemented.")}},{key:"render",value:function(e){throw new Error("render method not implemented.")}},{key:"update",value:function(e){}},{key:"inflateGraphic",value:function(e){throw new Error("inflateGraphic method not implemented.")}},{key:"createGraphic",value:function(e,t){throw new Error("createGraphic method not implemented.")}},{key:"removeGraphic",value:function(e){throw new Error("removeGraphic method not implemented.")}},{key:"updateGraphic",value:function(e,t){throw new Error("updateGraphic method not implemented.")}}]),e}(),_default=exports.default=GraphicInterface;

},{}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _setTransform=_interopRequireDefault(require("./lib/camera/setTransform.js")),_rotateCameraOverTime=_interopRequireDefault(require("./lib/camera/rotateCameraOverTime.js")),_updateCameraPosition=_interopRequireDefault(require("./lib/camera/updateCameraPosition.js")),_updateEntityPosition=_interopRequireDefault(require("./lib/camera/updateEntityPosition.js")),_mouseWheelZoom=_interopRequireDefault(require("./lib/camera/mouseWheelZoom.js")),_zoom=_interopRequireDefault(require("./lib/camera/zoom.js")),_cameraShake=_interopRequireDefault(require("./lib/camera/cameraShake.js")),_applyThrow=_interopRequireDefault(require("./lib/camera/applyThrow.js")),_update=_interopRequireDefault(require("./lib/camera/update.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,i){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var CSSCamera=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.id=e.id,this.scene=t,this.config=i,this.isDragging=!1,this.dragInertia={x:0,y:0},this.isThrowing=!1,this.rotating=!1,this.mouseWheelEnabled=!0,this.mouseWheelZoom=_mouseWheelZoom.default.bind(this),this.zoom=_zoom.default.bind(this),this.setTransform=_setTransform.default.bind(this),this.updateEntityPosition=_updateEntityPosition.default.bind(this),this.cameraShake=_cameraShake.default.bind(this)}return _createClass(e,[{key:"init",value:function(e){var t=this;this.game=e,this.game.shakeCamera=_cameraShake.default.bind(this),e.zoom=this.zoom.bind(this),e.setZoom=this.zoom.bind(this),void 0===e.data.camera&&(e.data.camera={mode:"follow",position:{x:0,y:0}}),this.updateCameraPosition=_updateCameraPosition.default.bind(this),this.applyThrow=_applyThrow.default.bind(this),this.update=_update.default.bind(this),this.scene.setTransform=this.setTransform.bind(this),this.scene.updateEntityPosition=this.updateEntityPosition.bind(this),e.rotateCamera=_rotateCameraOverTime.default.bind(this),this.game.systemsManager.addSystem("graphics-css-camera",this);var i=document.getElementById("gameHolder");i||((i=document.createElement("div")).id="gameHolder",document.body.appendChild(i)),this.gameViewport=document.getElementById("gameHolder"),this.gameViewport.style.transformOrigin="center center",this.initMouseWheelZoomControls(),this.config.initialZoom&&this.zoom(this.config.initialZoom),e.on("entityInput::handleInputs",function(i,o,r){if(o.mouse){o.mouse.buttons.RIGHT,o.mouse.buttons.MIDDLE,o.mouse.dx=o.mouse.dx||0,o.mouse.dy=o.mouse.dy||0;var a=1/e.data.camera.currentZoom||4.5,n=o.mouse.dx*a,s=o.mouse.dy*a;t.updateCameraPosition(-n,-s,o.mouse.isDragging)}})}},{key:"resetCameraState",value:function(){this.game.data.camera.offsetX=0,this.game.data.camera.offsetY=0}},{key:"initMouseWheelZoomControls",value:function(){document.addEventListener("wheel",this.mouseWheelZoom,{passive:!1}),this.scene.mouseWheelEnabled=!0}},{key:"rotateCamera",value:function(e){"number"==typeof e?this.gameViewport.style.transform="rotate(".concat(e,"deg)"):console.error("Invalid angle for rotateCamera. Must be a number.")}},{key:"cancelThrow",value:function(){this.isThrowing=!1,this.dragInertia={x:0,y:0}}},{key:"unload",value:function(){document.removeEventListener("wheel",this.mouseWheelZoom)}}]),e}();_defineProperty(CSSCamera,"id","css-camera");var _default=exports.default=CSSCamera;

},{"./lib/camera/applyThrow.js":4,"./lib/camera/cameraShake.js":5,"./lib/camera/mouseWheelZoom.js":6,"./lib/camera/rotateCameraOverTime.js":7,"./lib/camera/setTransform.js":8,"./lib/camera/update.js":9,"./lib/camera/updateCameraPosition.js":10,"./lib/camera/updateEntityPosition.js":11,"./lib/camera/zoom.js":12}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _GraphicsInterface2=_interopRequireDefault(require("../../lib/GraphicsInterface.js")),_CSSCamera=_interopRequireDefault(require("./CSSCamera.js")),_createGraphic=_interopRequireDefault(require("./lib/entity/createGraphic.js")),_inflateBox=_interopRequireDefault(require("./lib/entity/inflate/inflateBox.js")),_inflateText=_interopRequireDefault(require("./lib/entity/inflate/inflateText.js")),_inflateCanvas=_interopRequireDefault(require("./lib/entity/inflate/inflateCanvas.js")),_inflateImage=_interopRequireDefault(require("./lib/entity/inflate/inflateImage.js")),_inflateGraphic=_interopRequireDefault(require("./lib/entity/inflateGraphic.js")),_inflateTexture=_interopRequireDefault(require("./lib/entity/inflateTexture.js")),_inflateButton=_interopRequireDefault(require("./lib/entity/inflate/inflateButton.js")),_inflateCheckbox=_interopRequireDefault(require("./lib/entity/inflate/inflateCheckbox.js")),_inflateInput=_interopRequireDefault(require("./lib/entity/inflate/inflateInput.js")),_inflateIframe=_interopRequireDefault(require("./lib/entity/inflate/inflateIframe.js")),_inflateRadio=_interopRequireDefault(require("./lib/entity/inflate/inflateRadio.js")),_inflateRange=_interopRequireDefault(require("./lib/entity/inflate/inflateRange.js")),_inflateSelect=_interopRequireDefault(require("./lib/entity/inflate/inflateSelect.js")),_inflateTextarea=_interopRequireDefault(require("./lib/entity/inflate/inflateTextarea.js")),_inflateCode=_interopRequireDefault(require("./lib/entity/inflate/inflateCode.js")),_updateGraphic=_interopRequireDefault(require("./lib/entity/updateGraphic.js")),_bindEntityEvents=_interopRequireDefault(require("./lib/entity/bindEntityEvents.js")),_bindYCraftEvents=_interopRequireDefault(require("./lib/entity/bindYCraftEvents.js")),_unload=_interopRequireDefault(require("./lib/unload.js")),_render=_interopRequireDefault(require("./lib/render.js")),_removeGraphic=_interopRequireDefault(require("./lib/entity/removeGraphic.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_toPropertyKey(r.key),r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var i,r=_getPrototypeOf(e);if(t){var n=_getPrototypeOf(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,i){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var CSSGraphics=function(e){_inherits(i,_GraphicsInterface2["default"]);var t=_createSuper(i);function i(){var e;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).camera;return _classCallCheck(this,i),(e=t.call(this)).id=i.id,e.async=i.async,e.cameraPosition={x:0,y:0},e.mouseWheelEnabled=!1,e.createGraphic=_createGraphic.default.bind(_assertThisInitialized(e)),e.inflateBox=_inflateBox.default.bind(_assertThisInitialized(e)),e.inflateText=_inflateText.default.bind(_assertThisInitialized(e)),e.inflateGraphic=_inflateGraphic.default.bind(_assertThisInitialized(e)),e.inflateTexture=_inflateTexture.default.bind(_assertThisInitialized(e)),e.updateGraphic=_updateGraphic.default.bind(_assertThisInitialized(e)),e.inflateButton=_inflateButton.default.bind(_assertThisInitialized(e)),e.inflateSelect=_inflateSelect.default.bind(_assertThisInitialized(e)),e.inflateRange=_inflateRange.default.bind(_assertThisInitialized(e)),e.inflateRadio=_inflateRadio.default.bind(_assertThisInitialized(e)),e.inflateInput=_inflateInput.default.bind(_assertThisInitialized(e)),e.inflateTextarea=_inflateTextarea.default.bind(_assertThisInitialized(e)),e.inflateCode=_inflateCode.default.bind(_assertThisInitialized(e)),e.inflateCheckbox=_inflateCheckbox.default.bind(_assertThisInitialized(e)),e.inflateImage=_inflateImage.default.bind(_assertThisInitialized(e)),e.inflateCanvas=_inflateCanvas.default.bind(_assertThisInitialized(e)),e.inflateIframe=_inflateIframe.default.bind(_assertThisInitialized(e)),e.render=_render.default.bind(_assertThisInitialized(e)),e.removeGraphic=_removeGraphic.default.bind(_assertThisInitialized(e)),e.bindEntityEvents=_bindEntityEvents.default.bind(_assertThisInitialized(e)),e.bindYCraftEvents=_bindYCraftEvents.default.bind(_assertThisInitialized(e)),e.unload=_unload.default.bind(_assertThisInitialized(e)),e.depthChart=["background","border","wire","PART","TEXT","PLAYER","BLOCK","FIRE","WARP","NOTE"],e}return _createClass(i,[{key:"init",value:function(e){this.game=e;var t=new _CSSCamera.default(this,{initialZoom:1});window.innerHeight;this.game.use(t),e.camera=t,this.initCSSRenderDiv(),e.graphics.push(this),this.game.systemsManager.addSystem("graphics-css",this),e.emit("plugin::ready::graphics-css",this),e.loadingPluginsCount--,this.game.data.camera.offsetX=0,this.game.data.camera.offsetY=0,document.body.style.cursor="default"}},{key:"initCSSRenderDiv",value:function(){var e=document.getElementById("gameHolder");e||((e=document.createElement("div")).id="gameHolder",document.body.appendChild(e)),e.addEventListener("dragstart",function(e){"IMG"===e.target.tagName&&e.preventDefault()});var t=document.getElementById("css-render-div");t||((t=document.createElement("div")).id="css-render-div",t.className="render-div",t.style.transformOrigin="center center",e.appendChild(t)),this.renderDiv=t}}]),i}();_defineProperty(CSSGraphics,"id","graphics-css"),_defineProperty(CSSGraphics,"removable",!1),_defineProperty(CSSGraphics,"async",!0);var _default=exports.default=CSSGraphics;

},{"../../lib/GraphicsInterface.js":1,"./CSSCamera.js":2,"./lib/entity/bindEntityEvents.js":13,"./lib/entity/bindYCraftEvents.js":14,"./lib/entity/createGraphic.js":15,"./lib/entity/inflate/inflateBox.js":16,"./lib/entity/inflate/inflateButton.js":17,"./lib/entity/inflate/inflateCanvas.js":18,"./lib/entity/inflate/inflateCheckbox.js":19,"./lib/entity/inflate/inflateCode.js":20,"./lib/entity/inflate/inflateIframe.js":21,"./lib/entity/inflate/inflateImage.js":22,"./lib/entity/inflate/inflateInput.js":23,"./lib/entity/inflate/inflateRadio.js":24,"./lib/entity/inflate/inflateRange.js":25,"./lib/entity/inflate/inflateSelect.js":26,"./lib/entity/inflate/inflateText.js":27,"./lib/entity/inflate/inflateTextarea.js":28,"./lib/entity/inflateGraphic.js":29,"./lib/entity/inflateTexture.js":30,"./lib/entity/removeGraphic.js":31,"./lib/entity/updateGraphic.js":32,"./lib/render.js":33,"./lib/unload.js":34}],4:[function(require,module,exports){
"use strict";function applyThrow(){if(this.isThrowing){var t=this.game;t.data.camera.offsetX+=this.dragInertia.x,t.data.camera.offsetY+=this.dragInertia.y,this.dragInertia.x*=.985,this.dragInertia.y*=.985,Math.abs(this.dragInertia.x)>.1||Math.abs(this.dragInertia.y)>.1?requestAnimationFrame(this.applyThrow.bind(this)):this.isThrowing=!1,this.isThrowing}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=applyThrow;

},{}],5:[function(require,module,exports){
"use strict";function cameraShake(a){var t=this,e=a.initialIntensity,n=void 0===e?100:e,r=a.duration,o=void 0===r?777:r,i=document.getElementById("gameHolder");if(i){if("true"!==i.dataset.isShaking){i.dataset.isShaking="true";var s=i.style.transform,d=Date.now();!function a(){var e=Date.now()-d,r=o-e;if(r<=0)return i.style.transform=s,void(i.dataset.isShaking="false");var c=n*(r/o),m=c*Math.sin(e/100)*(Math.random()>.5?1:-1),l=c*Math.cos(e/100)*(Math.random()>.5?1:-1);i.style.transform="".concat(s," translate(").concat(m,"px, ").concat(l,"px)"),Object.keys(t.game.data.ents._).forEach(function(a){var e=t.game.data.ents._[a];if("PARTICLE"===e.type||"STAR"===e.type||"HEXAPOD"===e.type||"DEMON"===e.type||"NONE"===e.type){var n=Math.random()*c-c/2,r=Math.random()*c-c/2;n*=.01,r*=.01,game.applyForce(a,{x:n,y:r})}}),requestAnimationFrame(a)}()}}else console.log("Warning: could not find gameHolder div, cannot apply camera shake")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=cameraShake;

},{}],6:[function(require,module,exports){
"use strict";function cssMouseWheelZoom(e){var a=this.game;if(this.mouseWheelEnabled&&(!a.data.camera||!0===a.data.camera.mouseWheelZoomEnabled)){e.preventDefault();var t=a.data.camera.currentZoom,o=.01,l=.1,s=10,r=(e.wheelDelta?e.wheelDelta:-e.detail)>0?1:-1,h=o*Math.log(t+1)/Math.log(s),m=Math.max(l,t+r*h);return this.zoom(m),!1}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=cssMouseWheelZoom;

},{}],7:[function(require,module,exports){
"use strict";function rotateCameraOverTime(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1100;if("number"==typeof e&&"number"==typeof r){if(!this.rotating){this.rotating=!0,this.game.data.camera.rotation=e;var a=this.game.data.camera.currentZoom,o=window.innerWidth/2,i=window.innerHeight/2;this.gameViewport.style.transition="transform ".concat(r,"ms"),this.gameViewport.style.transformOrigin="".concat(o,"px ").concat(i,"px"),this.gameViewport.style.transform="scale(".concat(a,") rotate(").concat(e,"deg)"),setTimeout(function(){t.gameViewport.style.transition="",t.rotating=!1,t.gameViewport.style.transformOrigin="50% 50%",t.gameViewport.style.transform="scale(".concat(a,") rotate(",0,"deg)")},r)}}else console.error("Invalid arguments for rotateCameraOverTime. Both targetAngle and duration must be numbers.")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=rotateCameraOverTime;

},{}],8:[function(require,module,exports){
"use strict";function setTransform(t,e,r,a,o,n){var s=e.dataset.rotation||0;e.style.backgroundImage&&e.style.backgroundImage;o&&(s=n,e.dataset.rotation=n);var c="translate(".concat(truncateToPrecision(r,2),"px, ").concat(truncateToPrecision(a,2),"px)");"PLAYER"!==t.type&&(c+=" rotate(".concat(s,"deg)")),e.style.transform!==c&&(e.style.transform=c)}function truncateToPrecision(t,e){var r=Math.pow(10,e);return Math.round(t*r)/r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=setTransform;

},{}],9:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=update;var _zoom=_interopRequireDefault(require("./zoom.js"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function update(){var a=this.game,t=this.game.getEntity(a.currentPlayerId);a.data.camera.currentZoom,window.innerHeight,window.innerWidth,this.game.data.camera.currentZoom;"number"!=typeof a.data.camera.offsetX&&(a.data.camera.offsetX=0),"number"!=typeof a.data.camera.offsetY&&(a.data.camera.offsetY=0),"number"!=typeof a.data.camera.offsetX&&(a.data.camera.offsetX=0),"number"!=typeof a.data.camera.offsetY&&(a.data.camera.offsetY=0);var e=0,r=0;"follow"===this.game.data.camera.mode&&t&&t.position&&(e=t.position.x,r=t.position.y),this.scene.cameraPosition.x=e+a.data.camera.offsetX,this.scene.cameraPosition.y=r+a.data.camera.offsetY;var o=window.innerWidth/2,i=window.innerHeight/2,s={x:this.scene.cameraPosition.x-o,y:this.scene.cameraPosition.y-i};s.x*=this.game.data.camera.currentZoom,s.y*=this.game.data.camera.currentZoom;var n=window.innerWidth/this.game.data.camera.currentZoom,m=window.innerHeight/this.game.data.camera.currentZoom,c=(window.innerWidth,(window.innerHeight-m)/2);this.game.data.camera.currentZoom,c*=this.game.data.camera.currentZoom,s.y+=c,this.scene.renderDiv&&setTransform(this.scene.renderDiv,-s.x,-s.y,this.game.data.camera.currentZoom,0),this.game.data.camera.position=this.scene.cameraPosition}function setTransform(a,t,e,r,o){var i=parseFloat(a.dataset.lastOffsetX)||0,s=parseFloat(a.dataset.lastOffsetY)||0,n=parseFloat(a.dataset.lastZoom)||1,m=parseFloat(a.dataset.lastRotation)||0;t=Number.isFinite(t)?t:i,e=Number.isFinite(e)?e:s,r=Number.isFinite(r)&&r>0?r:n,o=Number.isFinite(o)?o:m,t===i&&e===s&&r===n&&o===m||(a.style.transform="translate(".concat(t,"px, ").concat(e,"px) scale(").concat(r,") rotate(").concat(o,"deg)"),a.dataset.lastOffsetX=t.toString(),a.dataset.lastOffsetY=e.toString(),a.dataset.lastZoom=r.toString(),a.dataset.lastRotation=o.toString())}

},{"./zoom.js":12}],10:[function(require,module,exports){
"use strict";function updateCameraPosition(i,t,a){var e=this.game;this.isDragging&&!a&&this.cancelThrow(),a&&(this.isDragging=!0,"number"==typeof i&&(e.data.camera.offsetX+=i),"number"==typeof t&&(e.data.camera.offsetY+=t)),!this.isDragging||a||0===i&&0===t||(this.isThrowing=!0,this.isDragging=!1,Math.abs(i)>2&&(this.dragInertia.x=1.6*i),Math.abs(t)>2&&(this.dragInertia.y=1.6*t),requestAnimationFrame(this.applyThrow.bind(this))),a||(this.isDragging=!1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=updateCameraPosition;

},{}],11:[function(require,module,exports){
"use strict";function updateEntityPosition(t,e){var i=e.position,s=e.rotation,o=(e.type,e.width),n=e.height;"number"==typeof e.radius&&(o=e.radius,n=e.radius);window.outerWidth,window.outerHeight;var r=i.x,y=i.y;if(e.style&&"fixed"===e.style.position)return t.style.position="absolute",t.style.left=i.x+"px",t.style.top=i.y+"px",t.style.display="",t;var a=r-o/2,l=y-n/2,d=s*(180/Math.PI);return this.setTransform(e,t,a,l,s,d),t.style.display="",e.style&&"none"===e.style.display&&(t.style.display="none"),t}function isWithinFieldOfView(t,e,i,s,o,n,r){var y=e.x+s/2,a=e.y+o/2,l=y-i.x,d=a-i.y+100,u=Math.min(n,r);return Math.sqrt(l*l+d*d)<=u}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=updateEntityPosition;

},{}],12:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=zoom;var minZoom=.1,maxZoom=10;function zoom(o){arguments.length>1&&void 0!==arguments[1]&&arguments[1];o<minZoom&&(o=minZoom),o>maxZoom&&(o=maxZoom),this.game.data.camera.currentZoom=o}

},{}],13:[function(require,module,exports){
"use strict";function bindEntityEvents(t,e){var n=this.game;e.addEventListener("pointerdown",function(e){var i=n.getEntity(t.id);n.emit("pointerDown",i,e)}),e.addEventListener("pointerup",function(e){var i=n.getEntity(t.id);n.emit("pointerUp",i,e)}),e.addEventListener("pointermove",function(e){var i=n.getEntity(t.id);n.emit("pointerMove",i,e)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=bindEntityEvents;

},{}],14:[function(require,module,exports){
"use strict";function bindYCraftEvents(t,e){e.addEventListener("mouseover",function(){e.style.boxShadow="5px 5px 10px rgba(0,0,0,0.5)";var a=game.getEntity(t.id),r=(a.yCraft.part.name,a.yCraft.part.type);a.yCraft.part;"MotionDetector"===r&&a.yCraft.part.onFn()}),e.addEventListener("mouseout",function(){e.style.boxShadow=""}),e.addEventListener("pointerdown",function(e){var a=game.getEntity(t.id),r=(a.yCraft.part.name,a.yCraft.part.type);a.yCraft.part;"Button"===r&&a.yCraft.part.press(),a&&a.yCraft&&a.yCraft.part.toggle&&a.yCraft.part.toggle()}),e.addEventListener("pointerup",function(e){var a=game.getEntity(t.id);a.yCraft.part.name;"Button"===a.yCraft.part.type&&a&&a.yCraft&&a.yCraft.part.release&&a.yCraft.part.release()})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=bindYCraftEvents;

},{}],15:[function(require,module,exports){
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function createGraphic(t){if(!0!==t.destroyed){var e=document.createElement("div");switch(e.id="entity-".concat(t.id),e.setAttribute("mantra-id",t.id),e.className="entity-element",e.style.position="absolute",void 0!==t.rotation&&null!==t.rotation&&("object"===_typeof(t.rotation)?t.rotation=t.rotation.x:t.rotation=t.rotation),t.type){case"BULLET":t.radius;e.style.width=t.radius+"px",e.style.height=t.radius+"px",this.inflateBox(e,t);break;case"PLAYER":e.style.width=t.width+"px",e.style.height=t.height+"px",this.inflateBox(e,t);break;case"TEXT":e=this.inflateText(e,t);break;case"BUTTON":e=this.inflateButton(e,t);break;case"INPUT":e=this.inflateInput(e,t);break;case"SELECT":e=this.inflateSelect(e,t);break;case"IMAGE":e=this.inflateImage(e,t);break;case"TEXTAREA":e=this.inflateTextarea(e,t);break;case"RANGE":e=this.inflateRange(e,t);break;case"CHECKBOX":e=this.inflateCheckbox(e,t);break;case"RADIO":e=this.inflateRadio(e,t);break;case"IFRAME":e=this.inflateIframe(e,t);break;case"CANVAS":e=this.inflateCanvas(e,t);break;case"CODE":e=this.inflateCode(e,t);break;case"TOOLBAR":this.game.systems.toolbar&&(e=this.game.systems.toolbar.inflate(e,t));break;default:"PART"===t.type&&"Display"===t.name?this.inflateText(e,t):this.inflateBox(e,t)}if(void 0!==t.radius&&(e.style.width=t.radius+"px",e.style.height=t.radius+"px",e.style.borderRadius="50%"),void 0!==t.color&&null!==t.color)t.color.toString(16),Math.floor(16777215*Math.random()).toString(16);if(void 0!==t.style&&"absolute"===t.style.position){var i=document.getElementById("gameHolder");e.style.position="flex",e.style.top="".concat(t.position.y,"px"),e.style.left="".concat(t.position.x,"px"),e.style.width="".concat(t.width,"px"),e.style.height="".concat(t.height,"px"),i.appendChild(e)}else this.renderDiv.appendChild(e);return this.updateEntityPosition(e,t),e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createGraphic;

},{}],16:[function(require,module,exports){
"use strict";function inflateBox(e,t){this.game.getTexture;var i=this.depthChart,s="white";if(void 0!==t.color&&null!==t.color&&(s="#"+t.color.toString(16)),"number"==typeof t.radius?(e.style.width=t.radius+"px",e.style.height=t.radius+"px"):(e.style.width=t.width+"px",e.style.height=t.height+"px"),e.style.zIndex=t.position.z,"PART"===t.type){switch(t.name){case"Wire":case"Display":e.style.zIndex=-1;break;default:e.style.zIndex=i.indexOf("PART")}this.bindYCraftEvents(t,e)}return e.style.border="1px solid black",e.style.background=s,t.style&&Object.keys(t.style).forEach(function(i){e.style[i]=t.style[i]}),this.updateEntityPosition(e,t),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateBox;

},{}],17:[function(require,module,exports){
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function inflateButton(t,o){var e=document.createElement("button");return console.log("entityData",o),"object"===_typeof(o.meta)&&!0===o.meta.disabled&&(e.disabled=!0),o.text&&(e.innerHTML=o.text),applyButtonStyles(e,o),t.appendChild(e),o.width&&(t.style.width="".concat(o.width,"px")),o.color&&(t.style.color=convertColorToHex(o.color)),e.addEventListener("mouseover",function(){e.style.backgroundColor="#e6e6e6"}),e.addEventListener("mouseout",function(){e.style.backgroundColor=defaultButtonStyles.backgroundColor}),e.addEventListener("mousedown",function(){e.style.backgroundColor="#cccccc"}),e.addEventListener("mouseup",function(){e.style.backgroundColor="#e6e6e6"}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateButton;var defaultButtonStyles={border:"none",padding:"15px 32px",textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"16px",margin:"4px 2px",cursor:"pointer",borderRadius:"12px",backgroundColor:"#f2f2f2",color:"black",transition:"background-color 0.4s ease, color 0.4s ease"};function applyButtonStyles(t,o){Object.assign(t.style,defaultButtonStyles,o.style)}function convertColorToHex(t){return"number"==typeof t?"#".concat(t.toString(16)):t}

},{}],18:[function(require,module,exports){
"use strict";function inflateCanvas(a,e){var t;if(e.meta&&e.meta.canvas?t=e.meta.canvas instanceof HTMLCanvasElement?e.meta.canvas:e.meta.canvas.canvas:((t=document.createElement("canvas")).width=e.width||300,t.height=e.height||150,applyCanvasStyles(t,e)),a.contains(t)||a.appendChild(t),e.width&&(t.style.width="".concat(e.width,"px")),e.height&&(t.style.height="".concat(e.height,"px")),e.meta&&e.meta.imageData){var n=t.getContext("2d");e.meta.imageData instanceof HTMLImageElement||e.meta.imageData instanceof HTMLCanvasElement?n.drawImage(e.meta.imageData,0,0,t.width,t.height):e.meta.imageData instanceof ImageData?n.putImageData(e.meta.imageData,0,0):console.error("Unsupported imageData type:",e.meta.imageData)}return a}function applyCanvasStyles(a,e){e.styles&&Object.keys(e.styles).forEach(function(t){a.style[t]=e.styles[t]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateCanvas;

},{}],19:[function(require,module,exports){
"use strict";function inflateCheckbox(e,t){return Array.isArray(t.options)&&t.options.forEach(function(t){var n=document.createElement("label"),a=document.createElement("input");a.type="checkbox",a.value=t.value,t.checked&&(a.checked=!0),n.appendChild(a),n.append(t.label),e.appendChild(n)}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateCheckbox;

},{}],20:[function(require,module,exports){
"use strict";function inflateCode(e,t){var o,c,r=this,n=t.graphics&&t.graphics["graphics-css"];n?(o=n.querySelectorAll("pre")[0],c=n.querySelectorAll("code")[0]):(o=document.createElement("pre"),c=document.createElement("code"),o.appendChild(c),e.appendChild(o));t.meta.language;c.classList.add("language-javascript"),this.fetchSourceHandles=this.fetchSourceHandles||{};var l=t.meta&&t.meta.src;return l?(c.textContent="Loading... ".concat(l),this.fetchSourceHandles[l]||(this.fetchSourceHandles[l]=fetch(l).then(function(e){if(!e.ok)throw new Error("Network response was not ok");return e.text()}).then(function(e){Array.from(document.querySelectorAll('code[data-src="'.concat(l,'"]'))).forEach(function(t){t.textContent=e,Prism.highlightAll()}),r.fetchSourceHandles[l]={content:e}}).catch(function(e){console.error("Error fetching source code:",e),Array.from(document.querySelectorAll('code[data-src="'.concat(l,'"]'))).forEach(function(e){e.textContent="// Error fetching source code"}),r.fetchSourceHandles[l]={error:"// Error fetching source code"}})),c.setAttribute("data-src",l)):c.textContent=t.meta&&t.meta.code||"",applyCodeStyles(o,c,t),t.width&&(o.style.width="".concat(t.width,"px")),t.height&&(o.style.height="".concat(t.height,"px")),t.color&&(c.style.color=convertColorToHex(t.color)),e}function applyCodeStyles(e,t,o){e.style.display="block",e.style.overflow="auto",e.style.padding="5px",e.style.backgroundColor="#1E1E1E",t.style.fontFamily="monospace",t.style.fontSize="14px",t.style.color="#D4D4D4",o.style&&(Object.assign(e.style,o.style.pre),Object.assign(t.style,o.style.code))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateCode;

},{}],21:[function(require,module,exports){
"use strict";function inflateIframe(e,t){var a=document.createElement("iframe");return t.meta&&t.meta.src&&(a.src=t.meta.src||"about:blank"),applyIframeStyles(a,t),e.appendChild(a),t.width&&(a.style.width="".concat(t.width,"px")),t.height&&(a.style.height="".concat(t.height,"px")),e}function applyIframeStyles(e,t){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateIframe;

},{}],22:[function(require,module,exports){
"use strict";function inflateImage(e,t){var a;if(t.meta&&void 0!==t.meta.imageData){if(!(t.meta.imageData instanceof HTMLCanvasElement))return void console.error("Unsupported imageData type:",t.meta.imageData);a=t.meta.imageData}else a=document.createElement("img"),t.meta&&t.meta.src&&(a.src=t.meta.src);return applyImageStyles(a,t),e.appendChild(a),t.width&&(a.style.width="".concat(t.width,"px")),t.height&&(a.style.height="".concat(t.height,"px")),e}function applyImageStyles(e,t){e.style.border="none",t.styles&&Object.keys(t.styles).forEach(function(a){e.style[a]=t.styles[a]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateImage;

},{}],23:[function(require,module,exports){
"use strict";function inflateInput(e,t){var o=document.createElement("input");return o.type=t.type||"text",t.value&&(o.value=t.value),t.placeholder&&(o.placeholder=t.placeholder),applyInputStyles(o,t),e.appendChild(o),t.width&&(o.style.width="".concat(t.width,"px")),t.color&&(o.style.color=convertColorToHex(t.color)),o.addEventListener("input",function(e){var o=e.target;game.updateEntity(t.id,{value:o.value})}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateInput;var defaultInputStyles={padding:"10px",fontSize:"16px",margin:"4px 2px",cursor:"text",borderRadius:"4px",backgroundColor:"#fff",color:"#333",border:"1px solid #ccc",appearance:"none",transition:"border-color 0.4s ease, box-shadow 0.4s ease"};function applyInputStyles(e,t){Object.assign(e.style,defaultInputStyles,t.style),e.addEventListener("focus",function(){e.style.borderColor="#80bdff",e.style.boxShadow="0 0 0 0.2rem rgba(0,123,255,.25)"}),e.addEventListener("blur",function(){e.style.borderColor="#ccc",e.style.boxShadow="none"})}function convertColorToHex(e){return"number"==typeof e?"#".concat(e.toString(16)):e}

},{}],24:[function(require,module,exports){
"use strict";function inflateRadio(e,a){if(a.meta&&a.meta.options){var t=a.meta.options;Array.isArray(t)&&t.forEach(function(t){var n=document.createElement("label"),r=document.createElement("input");r.type="radio",r.name=a.groupName,r.value=t.value,t.checked&&(r.checked=!0),n.appendChild(r),n.append(t.label),e.appendChild(n)})}return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateRadio;

},{}],25:[function(require,module,exports){
"use strict";function inflateRange(t,e){var r=document.createElement("input");return r.type="range",r.value=e.value||100,e.min&&(r.min=e.min),e.max&&(r.max=e.max),e.step&&(r.step=e.step),applyRangeStyles(r,e),console.log("rrrrr",r),t.appendChild(r),e.width&&(t.style.width="".concat(e.width,"px")),e.color&&(t.style.color=convertColorToHex(e.color)),r.addEventListener("input",function(t){var r=t.target;game.updateEntity(e.id,{value:r.value})}),t}function applyRangeStyles(t,e){if(Object.assign(t.style,{display:"block",width:"100%",margin:"8px 0",cursor:"pointer"},e.style),e.height){var r="".concat(e.height,"px"),n="".concat(Math.round(parseInt(e.height)/2),"px");t.style.webkitAppearance="none",t.style.height=r,t.style.setProperty("--thumb-height",r),t.style.setProperty("--track-height",n),t.style.background='\n      linear-gradient(transparent, transparent),\n      url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="'.concat(r,'" width="').concat(r,'" viewBox="0 0 20 20"><circle cx="10" cy="10" r="8" fill="').concat(e.color?convertColorToHex(e.color):"#CCC","\"/></svg>') no-repeat center,\n      linear-gradient(transparent, transparent)\n    "),t.style.setProperty("--webkit-slider-thumb","\n      -webkit-appearance: none;\n      width: var(--thumb-height);\n      height: var(--thumb-height);\n      border-radius: 50%;\n      background: ".concat(e.color?convertColorToHex(e.color):"#CCC",";\n      cursor: pointer;\n      margin-top: calc((var(--track-height) - var(--thumb-height)) / 2); // Centers the thumb vertically\n    ")),t.style.setProperty("--webkit-slider-runnable-track","\n      width: 100%;\n      height: var(--track-height);\n      background: #DDD;\n      border-radius: calc(var(--track-height) / 2);\n    ")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateRange;

},{}],26:[function(require,module,exports){
"use strict";function inflateSelect(e,t){var o=document.createElement("select");return t.meta&&t.meta.options&&Array.isArray(t.meta.options)&&t.meta.options.forEach(function(e){var n=document.createElement("option");n.value=e.value,n.textContent=e.label,t.style&&t.style.fontSize&&(n.style.fontSize=t.style.fontSize),t.style&&t.style.color&&(n.style.color=t.style.color),e.selected&&(n.selected=!0),o.appendChild(n)}),applySelectStyles(o,t),e.appendChild(o),e}function applySelectStyles(e,t){if(Object.assign(e.style,{padding:"10px 15px",fontSize:"16px",margin:"4px 2px",cursor:"pointer",borderRadius:"8px",backgroundColor:"#f2f2f2",color:"black",border:"1px solid #ccc",appearance:"none",transition:"border-color 0.4s ease, box-shadow 0.4s ease"}),t.width&&(e.style.width="".concat(t.width,"px")),t.height){e.style.height="".concat(t.height,"px");Math.max(0,(t.height-20)/2)}t.color&&(e.style.color=convertColorToHex(t.color)),t.style&&Object.assign(e.style,t.style),e.addEventListener("focus",function(){e.style.borderColor="#80bdff",e.style.boxShadow="0 0 0 0.2rem rgba(0,123,255,.25)"}),e.addEventListener("blur",function(){e.style.borderColor="#ccc",e.style.boxShadow="none"}),e.addEventListener("change",function(e){var o=e.target;game.updateEntity(t.id,{value:o.value})})}function convertColorToHex(e){return"number"==typeof e?"#".concat(e.toString(16)):e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateSelect;

},{}],27:[function(require,module,exports){
"use strict";function inflateText(t,e){if(t.innerText=e.text,t.style.backgroundColor="transparent",e.style)for(var o in e.style)t.style[o]=e.style[o];var r;(e.width&&(t.style.width="".concat(e.width,"px")),e.color)&&(r="number"==typeof e.color?"#".concat(e.color.toString(16).padStart(6,"0")):e.color,t.style.color=r);return console.log(t),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateText;

},{}],28:[function(require,module,exports){
"use strict";function inflateTextarea(e,t){var a=document.createElement("textarea");return a.textContent=t.text||"",applyTextareaStyles(a,t),e.appendChild(a),t.width&&(a.style.width="".concat(t.width,"px")),t.height&&(a.style.height="".concat(t.height,"px")),t.color&&(a.style.color=this.game.convertColorToHex(t.color)),e}function applyTextareaStyles(e,t){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateTextarea;

},{}],29:[function(require,module,exports){
"use strict";function inflateEntity(t,e){var i;t.graphics&&t.graphics["graphics-css"]?i=this.updateGraphic(t,e):(i=this.createGraphic(t),this.game.components.graphics.set([t.id,"graphics-css"],i)),i&&this.inflateTexture(t,i)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateEntity;

},{}],30:[function(require,module,exports){
"use strict";function inflateTexture(e,t){if(e.texture){var r=this.game,a=r.getTexture(e.texture);if(a){var i=a.url,u=a.sprite,n=void 0===u?{x:0,y:0}:u,s=a.frames,p=a.rate,x=a.playing,o=void 0===x||x,l=t.style.backgroundImage.slice(5,-2),c=t.getAttribute("data-texture-sprite"),d=e.texture.sprite,y=l!==i||c!==d;if(t.style.backgroundImage.includes(i)&&!y||(Array.isArray(s)&&s.length>0?n=s[0]:"number"==typeof e.texture.frame&&(n=s[e.texture.frame]),applyTextureStyles(a,t,i,n,e)),Array.isArray(s)&&o){var f=parseInt(t.getAttribute("data-frame-index"),10)||0,g=s[f];"number"!=typeof p&&(p=30),r.tick%p==0&&(g&&(n=g,f=f>=s.length-1?0:f+1,t.setAttribute("data-texture-sprite",a.sprite.name)),t.setAttribute("data-frame-index",f),applyTextureStyles(a,t,i,n,e))}else applyTextureStyles(a,t,i,n,e)}}}function applyTextureStyles(e,t,r,a,i){Object.assign(t.style,{background:"url('".concat(r,"') no-repeat ").concat(a.x,"px ").concat(a.y,"px"),border:"none",zIndex:i.position.z,borderRadius:"0px",backgroundSize:e.frames?"":"".concat(i.width,"px ").concat(i.height,"px")})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=inflateTexture;

},{}],31:[function(require,module,exports){
"use strict";function removeGraphic(e){var s=this.game.getEntity(e);if(s&&s.graphics&&s.graphics["graphics-css"]){var r=document.getElementById("css-render-div");r&&r.contains(s.graphics["graphics-css"])&&s.graphics["graphics-css"].remove()}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=removeGraphic;

},{}],32:[function(require,module,exports){
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function updateGraphic(t){this.game;void 0!==t.rotation&&null!==t.rotation&&("object"===_typeof(t.rotation)?t.rotation=t.rotation.x:t.rotation=t.rotation);var e=document.getElementById("entity-".concat(t.id));if(e){if(void 0!==t.color&&null!==t.color&&"TEXT"!==t.type){var o="#"+t.color.toString(16);e.style.background=o}if("number"==typeof t.position.z&&(e.style.zIndex=t.position.z),"TEXT"===t.type&&void 0!==t.text&&null!==t.text&&e.innerHTML!==t.text&&(e.innerHTML=t.text),void 0!==t.width&&(e.style.width=t.width+"px"),void 0!==t.height&&(e.style.height=t.height+"px"),"number"!=typeof t.radius);else{var i=2*t.radius;e.style.width=i+"px",e.style.height=i+"px"}if("object"===_typeof(t.size)&&(void 0!==t.size.width&&(e.style.width=t.size.width+"px"),void 0!==t.size.height&&(e.style.height=t.size.height+"px")),t.style&&Object.keys(t.style).forEach(function(o){e.style[o]=t.style[o]}),"IFRAME"===t.type){var r=e.querySelector("iframe");r&&r.src!==t.meta.src&&(r.src=t.meta.src)}if("CODE"===t.type)e.querySelector('code[data-src="'.concat(t.meta.src,'"]'))||(console.log("No code element with matching data-src found.",t.meta.src),this.inflateCode(e,t));return this.updateEntityPosition(e,t)}return this.createGraphic(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=updateGraphic;

},{}],33:[function(require,module,exports){
"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(r,e){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,a,o,i,l=[],u=!0,f=!1;try{if(o=(t=t.call(r)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(n=o.call(t)).done)&&(l.push(n.value),l.length!==e);u=!0);}catch(r){f=!0,a=r}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(f)throw a}}return l}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,a=function(){};return{s:a,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return i=r.done,r},e:function(r){l=!0,o=r},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw o}}}}function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return _arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,e):void 0}}function _arrayLikeToArray(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function render(r,e){var t=this;if(this.game.config.useFoV){new Map;var n=this.game.data.currentPlayer;r.getPlayerFieldOfView(n,r.data.fieldOfView,!1).forEach(function(r){var n=t.game.entities.get(r);n&&t.inflateGraphic(n,e)})}else{var a,o=_createForOfIteratorHelper(this.game.entities.entries());try{for(o.s();!(a=o.n()).done;){var i=_slicedToArray(a.value,2),l=i[0],u=(i[1],this.game.entities.get(l));this.inflateGraphic(u,e)}}catch(r){o.e(r)}finally{o.f()}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=render;

},{}],34:[function(require,module,exports){
"use strict";function _slicedToArray(r,e){return _arrayWithHoles(r)||_iterableToArrayLimit(r,e)||_unsupportedIterableToArray(r,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(r,e){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null!=t){var n,a,o,i,l=[],s=!0,u=!1;try{if(o=(t=t.call(r)).next,0===e){if(Object(t)!==t)return;s=!1}else for(;!(s=(n=o.call(t)).done)&&(l.push(n.value),l.length!==e);s=!0);}catch(r){u=!0,a=r}finally{try{if(!s&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(u)throw a}}return l}}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=_unsupportedIterableToArray(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var n=0,a=function(){};return{s:a,n:function(){return n>=r.length?{done:!0}:{done:!1,value:r[n++]}},e:function(r){throw r},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){t=t.call(r)},n:function(){var r=t.next();return i=r.done,r},e:function(r){l=!0,o=r},f:function(){try{i||null==t.return||t.return()}finally{if(l)throw o}}}}function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return _arrayLikeToArray(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,e):void 0}}function _arrayLikeToArray(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function unload(){var r=this;this.game.zoom(1),this.game.graphics=this.game.graphics.filter(function(e){return e.id!==r.id}),delete this.game._plugins.CSSGraphics,this.game.systemsManager.removeSystem("graphics-css-camera"),this.mouseWheelEnabled=!1;var e,t=_createForOfIteratorHelper(this.game.entities.entries());try{for(t.s();!(e=t.n()).done;){var n=_slicedToArray(e.value,2),a=n[0],o=n[1];o.graphics&&o.graphics["graphics-css"]&&(this.removeGraphic(a),delete o.graphics["graphics-css"])}}catch(r){t.e(r)}finally{t.f()}var i=document.getElementById("css-render-canvas");i&&i.remove()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=unload;

},{}]},{},[3])(3)
});
