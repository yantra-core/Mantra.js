(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}(g.PLUGINS || (g.PLUGINS = {})).Editor = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createToolbar=_interopRequireDefault(require("./lib/createToolbar.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var s=t[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,_toPropertyKey(s.key),s)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function _defineProperty(e,t,o){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var s=o.call(e,t||"default");if("object"!==_typeof(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Editor=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.sourceCode,s=t.sutraEditor,n=void 0!==s&&s;_classCallCheck(this,e),this.id=e.id,this.sourceCode=o,this.sutraEditor=n,this.createToolbar=_createToolbar.default.bind(this)}return _createClass(e,[{key:"init",value:function(e){var t=this;this.game=e,this.game.systemsManager.addSystem(this.id,this),document.body.style.perspective="none",this.dropdownTimers=new Map,"undefined"==typeof $?(console.log("$ is not defined, attempting to load jQuery from vendor"),e.loadScripts(["/vendor/jquery.min.js","/worlds.mantra.js"],function(){t.jqueryReady()})):this.jqueryReady()}},{key:"toggle",value:function(){"open"===this.toolbarMenu.toggleStatus?this.hide():this.show()}},{key:"show",value:function(){this.toolbarMenu.slideInToolbar()}},{key:"hide",value:function(){this.toolbarMenu.slideOutToolbar()}},{key:"jqueryReady",value:function(){this.createToolbar(this.game),this.setupGlobalClickListener(),this.game.systemsManager.addSystem(this.id,this),this.game.loadCSS("/plugins/Editor/Editor.css")}},{key:"createIcon",value:function(e){var t=this.game.assetRoot||"https://yantra.gg",o=document.createElement("img");return o.src="".concat(t,"/vendor/feather/").concat(e,".svg"),o.classList.add("feather-icon"),o.style.width="24px",o.style.height="24px",o.style.paddingTop="2px",o.style.cursor="pointer",o.style.filter="invert(100%)",o}},{key:"createMenu",value:function(e){var t=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=$("<div>",{class:"menu"}),n=$("<button>").text(e);if(o)n.on("click",o);else{var r=$("<div>",{class:"dropdown-content"});s.append(r),n.on("click",function(){t.closeAllDropdowns(),r.toggleClass("show")}),r.on("mouseout",function(){t.dropdownTimers.set(r[0],setTimeout(function(){r.removeClass("show")},333))}),r.on("mouseover",function(){t.dropdownTimers.has(r[0])&&(clearTimeout(t.dropdownTimers.get(r[0])),t.dropdownTimers.delete(r[0]))})}return s.append(n),s}},{key:"populateFileMenu",value:function(e){var t=this,o=e.find(".dropdown-content"),s=$("<a>",{href:"#",text:"View Source"});s.on("click",function(){return t.showSourceCode()}),o.append(s);var n=$("<a>",{href:"https://yantra.gg/game-dev-quickstart/deploy-world",text:"Deploy to Yantra Cloud",target:"_blank"});o.append(n);var r=$("<a>",{href:"#",text:"Plugins"});r.on("click",function(){return t.showPluginsGUI()}),o.append(r);var i=$("<a>",{href:"https://github.com/yantra-core/mantra",text:"About Mantra",target:"_blank"});o.append(i)}},{key:"populatePluginsMenu",value:function(e){var t=e.find(".dropdown-content"),o=$("<a>",{href:"#",text:"Plugins"});t.append(o)}},{key:"populateAboutMenu",value:function(e){var t=e.find(".dropdown-content"),o=$("<a>",{href:"https://github.com/yantra-core/mantra",text:"Mantra GitHub Repository"});t.append(o);var s=$("<a>",{href:"https://yantra.gg",text:"Yantra Serverless Hosting"});t.append(s)}},{key:"setupGlobalClickListener",value:function(){var e=this;$(document).on("click",function(t){$(t.target).closest(".menu button").length||e.closeAllDropdowns();var o=t.target.closest(".toolbar");if(e.game&&e.game.systems&&e.game.systems["entity-input"]){if(o)return e.game.systems["entity-input"].disableInputs(),e.game.systems.keyboard&&e.game.systems.keyboard.unbindAllEvents(),e.game.systems.mouse&&e.game.systems.mouse.unbindAllEvents(),t.preventDefault(),!1;e.game.systems["entity-input"].setInputsActive(),e.game.systems.keyboard&&e.game.systems.keyboard.bindInputControls(),e.game.systems.mouse&&e.game.systems.mouse.bindInputControls()}})}},{key:"closeAllDropdowns",value:function(){var e=this;$(".dropdown-content.show").each(function(t,o){$(o).removeClass("show");var s=e.dropdownTimers.get(o);s&&(clearTimeout(s),e.dropdownTimers.delete(o))})}},{key:"showCrafting",value:function(){var e=this.game;void 0===e.systems["gui-ycraft"]?(e.use("YCraft"),e.use("YCraftGUI")):this.game.systemsManager.removeSystem("gui-ycraft")}},{key:"showRules",value:function(){var e=this.game;void 0===e.systems["gui-sutra"]?e.use("SutraGUI"):this.game.systemsManager.removeSystem("gui-sutra")}},{key:"showPluginsGUI",value:function(){var e=this.game;void 0===e.systems["gui-plugins"]?e.use("PluginsGUI"):this.game.systemsManager.removeSystem("gui-plugins")}},{key:"showEventsInspector",value:function(){var e=this.game;void 0===e.systems["gui-event-inspector"]?e.use("EventInspector"):this.game.systemsManager.removeSystem("gui-event-inspector")}},{key:"showControls",value:function(){var e=this,t=this.game;void 0===t.systems["gui-controls"]?(t.once("plugin::ready::gui-controls",function(){e.game.systems["gui-controls"].drawTable()}),t.use("ControlsGUI")):this.game.systemsManager.removeSystem("gui-controls")}},{key:"showInspector",value:function(){var e=this.game;void 0===e.systems["gui-inspector"]?e.use("Inspector"):this.game.systemsManager.removeSystem("gui-inspector")}},{key:"showEntities",value:function(){var e=this.game;void 0===e.systems["gui-entities"]?e.use("EntitiesGUI"):this.game.systemsManager.removeSystem("gui-entities")}},{key:"showSourceCode",value:function(){var e=document.documentElement.outerHTML;console.log(e),window.open(this.sourceCode,"_blank")}}]),e}();_defineProperty(Editor,"id","editor"),_defineProperty(Editor,"async",!0);var _default=exports.default=Editor;

},{"./lib/createToolbar.js":6}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _SelectPicker=_interopRequireDefault(require("./SelectPicker.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var GraphicsSelector=function(){function e(t){_classCallCheck(this,e),this.editor=t,this.game=t.game,this.selectBox=this.createElements(),this.addEventListeners()}return _createClass(e,[{key:"createElements",value:function(){var e=this.game,t=document.createElement("select");return t.id="graphicsSelect",t.style.display="none",t.style.maxHeight="45px",t.title="Select graphics mode.\nMantra supports hot-swapping and multiplexing of graphics modes.",this.addOption(t,"2D CSS","CSSGraphics"),this.addOption(t,"3D Babylon.js","BabylonGraphics"),this.addOption(t,"3D Three.js","ThreeGraphics"),this.selectPicker=new _SelectPicker.default(t,function(t){e.systems.graphics.switchGraphics(t)},e),t}},{key:"selectElement",value:function(e){this.selectBox.value=e}},{key:"addOption",value:function(e,t,r){var i=document.createElement("option");i.text=t,i.value=r,e.add(i)}},{key:"addEventListeners",value:function(){var e=this;this.game;this.game.on("plugin::ready::graphics-phaser",function(){e.selectElement("PhaserGraphics")}),this.game.on("plugin::ready::graphics-babylon",function(){e.selectElement("BabylonGraphics")}),this.selectBox.addEventListener("change",function(t){e.handleSelectionChange(t)})}},{key:"handleSelectionChange",value:function(e){var t=this.game;this.showLoadingSpinner();var r=e.target.value;t.systems.graphics.switchGraphics(r),t.storage.set("graphics",r)}},{key:"showLoadingSpinner",value:function(){document.body.style.cursor="wait"}},{key:"hideLoadingSpinner",value:function(){document.body.style.cursor="default"}}]),e}(),_default=exports.default=GraphicsSelector;

},{"./SelectPicker.js":3}],3:[function(require,module,exports){
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var SelectPicker=exports.default=function(){function e(t,o,n){_classCallCheck(this,e),this.selectElement=t,this.game=n,this.click=o,this.modal=this.createModal(),this.debounceTimer=null,this.addEventListeners()}return _createClass(e,[{key:"createModal",value:function(){var e=this,t=(this.game,document.createElement("div"));this.applyModalStyles(t);var o=document.createElement("ul");return this.applyPickerStyles(o),this.addPickerScrollEvents(o),Array.from(this.selectElement.options).forEach(function(t){var n=document.createElement("li");e.applyListItemStyles(n),n.textContent=t.text,n.onclick=function(){e.selectElement.value=t.value,e.click(t.value),e.hideModal()},o.appendChild(n)}),t.appendChild(o),document.body.appendChild(t),t}},{key:"addPickerScrollEvents",value:function(e){var t,o,n=!1;e.onmousedown=function(i){n=!0,t=i.pageY-e.offsetTop,o=e.scrollTop,i.preventDefault()},e.onmousemove=function(i){if(n){var r=i.pageY-e.offsetTop-t;e.scrollTop=o-r}},window.onmouseup=function(){n=!1},e.onwheel=function(t){e.scrollTop+=t.deltaY,t.preventDefault()}}},{key:"applyModalStyles",value:function(e){Object.assign(e.style,{position:"fixed",width:"100%",height:"100%",top:"0px",left:"0",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"none",justifyContent:"center",alignItems:"center",zIndex:22222})}},{key:"applyPickerStyles",value:function(e){Object.assign(e.style,{position:"relative",top:"0px",zIndex:22222,listStyle:"none",margin:"0",padding:"0",maxHeight:"80%",maxWidth:"1000px",overflowY:"auto",width:"80%",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0,0,0,0.2)"})}},{key:"applyListItemStyles",value:function(e){Object.assign(e.style,{paddingTop:"20px",paddingBottom:"20px",paddingLeft:"5px",paddingRight:"5px",cursor:"pointer",borderBottom:"1px solid #ddd",fontSize:"36px",textAlign:"center",backgroundColor:"#f8f8f8",margin:"5px",borderRadius:"8px",transition:"background-color 0.3s"}),e.onmouseover=function(){return e.style.backgroundColor="#e8e8e8"},e.onmouseout=function(){return e.style.backgroundColor="#f8f8f8"}}},{key:"addEventListeners",value:function(){var e=this;this.selectElement.addEventListener("focus",function(){return e.showModal()}),this.selectElement.addEventListener("click",function(){return e.showModal()}),this.selectElement.addEventListener("click",function(e){return e.stopPropagation()}),window.addEventListener("click",function(t){t.target===e.modal&&e.hideModal()})}},{key:"toggle",value:function(){var e=this;this.debounce(function(){e.showingModal?e.hideModal():e.showModal()},300)}},{key:"debounce",value:function(e,t){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(e,t)}},{key:"showModal",value:function(){this.showingModal=!0,this.modal.style.display="flex"}},{key:"hideModal",value:function(){this.showingModal=!1,this.modal.style.display="none"}}]),e}();

},{}],4:[function(require,module,exports){
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,e||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var ToolbarMenu=exports.default=function(){function t(){_classCallCheck(this,t),this.toggleStatus="closed",this.isTransitioning=!1,this.primaryGroup=document.createElement("div"),this.secondaryGroup=document.createElement("div"),this.primaryGroup.className="menu-group primary",this.secondaryGroup.className="menu-group secondary",this.setStyle(this.primaryGroup,{display:"flex",flexWrap:"wrap"}),this.setStyle(this.secondaryGroup,{display:"flex",flexWrap:"wrap"}),this.toolbar=document.createElement("div"),this.toolbar.className="toolbar",this.toolbar.appendChild(this.primaryGroup),this.toolbar.appendChild(this.secondaryGroup),this.setStyle(this.toolbar,{position:"fixed",top:"0",height:"50px",width:"100%",display:"flex",justifyContent:"space-between",backgroundColor:"#f3f3f3",zIndex:9001}),document.body.appendChild(this.toolbar),window.addEventListener("resize",this.updateResponsiveStyles.bind(this)),this.updateResponsiveStyles(),this.slideInToolbar()}return _createClass(t,[{key:"setTransitioningState",value:function(t){this.isTransitioning=t,this.toolbar.style.pointerEvents=t?"none":"auto"}},{key:"slideOutToolbar",value:function(){var t=this;this.isTransitioning||"closed"===this.toggleStatus||(this.setTransitioningState(!0),this.toggleStatus="closed",this.setStyle(this.toolbar,{transition:"0.5s",top:"-100px"}),setTimeout(function(){return t.setTransitioningState(!1)},500))}},{key:"slideInToolbar",value:function(){var t=this;this.isTransitioning||"open"===this.toggleStatus||(this.setTransitioningState(!0),this.toggleStatus="open",this.setStyle(this.toolbar,{transition:"0.5s",top:"0"}),setTimeout(function(){return t.setTransitioningState(!1)},500))}},{key:"addElement",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"primary"===t?this.primaryGroup.insertBefore(e,this.primaryGroup.firstChild):"secondary"===t&&this.secondaryGroup.insertBefore(e,this.secondaryGroup.firstChild):"primary"===t?this.primaryGroup.appendChild(e):"secondary"===t&&this.secondaryGroup.appendChild(e)}},{key:"addItem",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=document.createElement("div");o.className="menu-item",o.style.textAlign="center",e.hint&&(o.title=e.hint);var n=document.createElement("div"),r=document.createElement("span");if(r.textContent=e.text,r.style.position="relative",r.style.bottom="5px",r.style.paddingLeft="5px","object"===_typeof(e.icon)&&n.appendChild(e.icon),n.className="menu-item-text",n.appendChild(r),n.style.textAlign="center",i?o.appendChild(n,o.firstChild):o.appendChild(n),this.setStyle(o,{margin:"5px",fontSize:"20px",paddingLeft:"10px",paddingRight:"10px",paddingTop:"5px",paddingBottom:"5px",minWidth:"60px",backgroundColor:"#ddd",borderRadius:"5px",cursor:"pointer",position:"relative"}),e.onClick&&(o.onclick=e.onClick),e.subItems&&e.subItems.length>0){var s=this.createDropdown(e.subItems);o.appendChild(s),o.onmouseenter=function(){return s.style.display="block"},o.onmouseleave=function(){return s.style.display="none"}}"primary"===t?this.primaryGroup.appendChild(o):"secondary"===t&&this.secondaryGroup.appendChild(o)}},{key:"createDropdown",value:function(t){var e=this,i=document.createElement("div");return i.className="dropdown",this.setStyle(i,{display:"none",minWidth:"300px",fontSize:"24px",position:"absolute",backgroundColor:"#f9f9f9",boxShadow:"0px 8px 16px 0px rgba(0,0,0,0.2)",padding:"5px",zIndex:1,textAlign:"left",left:0,right:"0"}),t.forEach(function(t){var o=e.createSubItem(t);i.appendChild(o)}),i}},{key:"createSubItem",value:function(t){var e=document.createElement("div");return e.textContent=t.text,this.setStyle(e,{padding:"5px 10px",cursor:"pointer",borderBottom:"1px solid #ddd"}),e.onmouseenter=function(){return e.style.backgroundColor="#ddd"},e.onmouseleave=function(){return e.style.backgroundColor="transparent"},t.onClick&&(e.onclick=t.onClick),e}},{key:"setStyle",value:function(t,e){Object.assign(t.style,e)}},{key:"updateResponsiveStyles",value:function(){window.innerWidth<=600?this.setStyle(this.toolbar,{flexDirection:"column",alignItems:"flex-start"}):this.setStyle(this.toolbar,{flexDirection:"row"})}}]),t}();

},{}],5:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _SelectPicker=_interopRequireDefault(require("./SelectPicker.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var WorldSelector=function(){function e(t){_classCallCheck(this,e),this.game=t,this.selectBox=this.createElements(),this.lastLoadedWorld=null,this.currentWorld=null,this.pickerCreated=!1,this.addEventListeners()}return _createClass(e,[{key:"createElements",value:function(){this.game;var e=document.createElement("select");return e.id="graphicsSelect",e.style.maxHeight="45px",e.style.display="none",this.addOption(e,"Home World","Home"),this.addOption(e,"Platform World","Platform"),this.addOption(e,"Maze World","Maze"),this.addOption(e,"Music World","Music"),this.addOption(e,"Mantra Gallery","Gallery"),this.addOption(e,"Gravity Gardens","GravityGardens"),this.addOption(e,"YCraft World","YCraft"),e}},{key:"selectElement",value:function(e){this.selectBox.value=e}},{key:"addOption",value:function(e,t,r,o){var n=document.createElement("option");n.text=t,n.value=r,o&&(n.disabled=!0),e.add(n)}},{key:"addEventListeners",value:function(){var e=this,t=this,r=this.game;this.selectBox.addEventListener("change",function(t){e.handleSelectionChange(t)}),this.selectPicker=new _SelectPicker.default(this.selectBox,function(e){r.switchWorlds(e)},r),r.on("entityInput::handleInputs",function(e,r){var n;r&&r.controls&&(!0===r.controls.I||!1===r.controls.I)&&(r.controls.I,(n=r.controls.I)&&!o?(o=!0,t.selectPicker.showingModal?t.selectPicker.hideModal():t.selectPicker.showModal()):!n&&o&&(o=!1))});var o=!1;r.on("world::loaded",function(e){var r=e.constructor.name;t.selectElement(r)})}},{key:"handleSelectionChange",value:function(e){this.game;this.showLoadingSpinner();var t=e.target.value;switchWorld(t),this.selectPicker.hideModal(),this.game.switchWorlds(t),this.selectElement(t)}},{key:"showLoadingSpinner",value:function(){document.body.style.cursor="wait"}},{key:"hideLoadingSpinner",value:function(){document.body.style.cursor="default"}}]),e}(),_default=exports.default=WorldSelector;

},{"./SelectPicker.js":3}],6:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createToolbar;var _GraphicsSelector=_interopRequireDefault(require("./GraphicsSelector.js")),_WorldSelector=_interopRequireDefault(require("./WorldSelector.js")),_ToolbarMenu=_interopRequireDefault(require("./ToolbarMenu.js"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function createToolbar(e){var t=this,n=(this.createMenu("File"),new _ToolbarMenu.default);this.toolbarMenu=n;var o=!1;e.on("entityInput::handleInputs",function(e,t){t.controls&&void 0!==t.controls.U&&(!0!==t.controls.U||o?!1===t.controls.U&&(o=!1):(o=!0,"open"===n.toggleStatus?n.slideOutToolbar():n.slideInToolbar()))});var r=this.game.assetRoot||"https://yantra.gg",i=this.createIcon("search");i.src=r+"/vendor/feather/search.svg",i.style.cursor="pointer",i.title="Click to open Entity Inspector",i.style.marginRight="10px",i.style.marginLeft="5px",i.style.width="32px",i.style.height="32px",i.style.bottom="12px",i.style.left="9px",i.style.position="relative",i.style.filter="invert(100%)",is_touch_enabled()&&(i.style.display="none"),i.onclick=function(){return t.showInspector()},n.addItem("primary",{text:"Mantra",icon:this.createIcon("slack"),onClick:function(){window.open("https://github.com/yantra-core/Mantra.js","_blank")}}),n.addItem("primary",{text:"Entities",hint:"Manage Game Entities",icon:this.createIcon("box"),onClick:function(){return t.showEntities()}}),n.addItem("primary",{text:"Rules",hint:"Manage Game Rules with Sutra",icon:this.createIcon("pocket"),onClick:function(){return t.showRules()}}),n.addItem("primary",{text:"Events ",hint:"Manage Game Events",icon:this.createIcon("activity"),onClick:function(){return t.showEventsInspector()}});var a=document.createElement("div");if(a.style.display="flex",a.style.alignItems="center",a.style.justifyContent="space-between",a.style.margin="20px",a.appendChild(i),n.addElement("secondary",a),e.worlds.length>0)e.worlds[0].constructor.name;n.slideOutToolbar(),$("body").append(n.toolbar)}function is_touch_enabled(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}

},{"./GraphicsSelector.js":2,"./ToolbarMenu.js":4,"./WorldSelector.js":5}]},{},[1])(1)
});
