(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}(g.PLUGINS || (g.PLUGINS = {})).FloatyTyper = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey(i.key),i)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _defineProperty(t,e,r){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!==_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var FloatyTyper=function(){function t(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,t),this.id=t.id,this.typingArea=null}return _createClass(t,[{key:"init",value:function(t){this.game=t;var e=this;this.game.systemsManager.addSystem(this.id,this),this.createTypingArea(),this.game.on("playNote",function(t,r,i){e.scheduleFloatingChar(t,i)}),this.noteOrder=["C","D","E","F","G","A","B"],this.noteColors={C:"#FF0000",D:"#FFA500",E:"#FFFF00",F:"#008000",G:"#0000FF",A:"#4B0082",B:"#EE82EE"}}},{key:"createTypingArea",value:function(){this.typingArea=document.createElement("div"),this.typingArea.id="typingArea",this.typingArea.style.position="absolute",this.typingArea.style.bottom="0px",this.typingArea.style.width="100%",this.typingArea.style.height="200px",this.typingArea.style.border="1px solid black",document.body.appendChild(this.typingArea)}},{key:"attachKeyListener",value:function(){var t=this;document.addEventListener("keypress",function(e){var r=e.key;t.createFloatingChar(r)})}},{key:"scheduleFloatingChar",value:function(t,e){var r=this;setTimeout(function(){r.createFloatingChar(t)},600*e)}},{key:"getNotePosition",value:function(t){var e=this.noteOrder.indexOf(t.charAt(0).toUpperCase());if(-1===e)return 100*Math.random();var r=100/this.noteOrder.length;return r*e+(Math.random()-.5)*r}},{key:"createFloatingChar",value:function(t){var e=this.getNotePosition(t),r=document.createElement("span");r.classList.add("char"),r.textContent=t,r.style.fontSize="64px",r.style.fontWeight="bold",r.style.color=this.noteColors[t.charAt(0)],r.style.position="absolute",r.style.bottom="0",r.style.opacity="1",r.style.transition="all 2s ease-out",e+=10,r.style.left="".concat(e,"%"),this.typingArea.appendChild(r),setTimeout(function(){r.style.bottom="100%",r.style.opacity="0"},10),setTimeout(function(){r.remove()},2e4)}},{key:"unload",value:function(){this.typingArea&&this.typingArea.remove(),document.removeEventListener("keypress",this.createFloatingChar)}}]),t}();_defineProperty(FloatyTyper,"id","floaty-typer");var _default=exports.default=FloatyTyper;

},{}]},{},[1])(1)
});
